<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:util="http://java.sun.com/jsf/composite/util" xmlns:code="http://java.sun.com/jsf/composite/code">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="styles.css" />
	<h:outputStylesheet library="css" name="grid.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />

	<h:outputScript name="utilities.js" library="javascript" target="head" />
	<script type="text/javascript">

	 var mode;
	 var indexVar;
	  function valdiateField(event){
		var regexPattern = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
		if(!regexPattern.test(document.getElementById('infoRegFormId:infoTimeId').value)){
			document.getElementById('infoRegFormId:infoTimeId').value ="";
		  return false;
		}
		return true;
	  }

	  function valdiateCoordinates(comp){
			var regexPattern = /^([+-]?\d+\.?\d+)\s*\Â°?$/;
			if(!regexPattern.test(comp.value)){
				comp.value ="";
			  return false;
			}
			return true;
		  }

	  function getRelatedInfo(contextPath){
		  mode=1;
		  openInfoMiniSearch(contextPath,1,null,null);
  		  return false;
  	  }

	  function getInfoDepends(contextPath,m,id,type){
		  mode=10;
		  openInfoMiniSearch(contextPath,m,id,type);
  		  return false;
  	  }

	  function getInfoDependsEmployee(contextPath,socialId){
		  mode=11;
		  openEmployeeInfoSysDetailsBySocialId(contextPath,socialId);
  		  return false;
  	  }

	  function getOpenSource(contextPath){
		  mode=2;
    	  openOpenSourcesMiniSearch(contextPath,1);
  		  return false;
  	  }  
  	  
  	  function getDepartment(contextPath)
 	  {
 		 mode=4;
 		 openDepartmentsMiniSearch(contextPath,1, null, null);
		 return false;
 	  }

  	 function getCountry(contextPath)
	  {
		 mode=5;
		 openCountriesMiniSearch(contextPath,1);
		 return false;
	  }

  	 function getEmployee(contextPath)
	  {
		 mode=6;
		 openEmpsMiniSearch(contextPath,1);
		 return false;
	  }

  	  function getDomain(contextPath,classes)
	  {
		 mode=7;
		 openDomainsMiniSearch(contextPath,2,classes);
		 return false;
	  }
  	 function getNonEmployee(contextPath)
	  {
		 mode=8;
		 openNonEmpsMiniSearch(contextPath,1);
		 return false;
	  }
  	  function getAssignments(contextPath)
	  {
		 mode=9;
		 regionId = document.getElementById('infoRegFormId:regionId').value;
		 if(regionId=='')
			 regionId = -1;
		 openAssignmentsMiniSearch(contextPath,4,regionId);
		 return false;
	  }

  	function getDirDepartments(contextPath,regionId)
	  {
		 mode=10;
		 openDepartmentsMiniSearch(contextPath,3,regionId, null);
		 return false;
	  }
	/* <![CDATA[ */
  	function getUnit(contextPath) {
		mode = 11;
		sectorId = document.getElementById('infoRegFormId:selectedSectorId').value;
		sectorIds = document.getElementById('infoRegFormId:sectorIdsId').value;
		selectedRegionId = document.getElementById('infoRegFormId:regionId').value;
		if(((sectorId != null) && ( sectorId != '') ) || (selectedRegionId == 101010000))
			openDepartmentsMiniSearch(contextPath,6 , sectorId == ''  || sectorId == null ? sectorIds : sectorId, null);
		else
			openDepartmentsMiniSearch(contextPath,7 , selectedRegionId, null);	
		return false;
		/* ]]> */
	}
  	  

	  function HandlePopupResult(ret) { 
  		if(ret!=null){ 
  	  		if (mode==1)
  	  	    {
	  			document.getElementById('infoRegFormId:selectedRelatedInfoId').value = ret[0];
	  	   	    document.getElementById('infoRegFormId:selectedRelatedInfoNumber').value = ret[1];
	  	   	    document.getElementById('infoRegFormId:relatedInfoNumber').innerHTML = ret[1];
	  	   		document.getElementById('infoRegFormId:relatedInfoHiddenBtnId').click(); 
  	  	    }
  	  		else if (mode==2)
  	  	  	{
  	  			document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedOpenSourceIdId').value = ret[0];
  	   	    	document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedOpenSourceNameId').value = ret[1];
  	   	  		document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:openSourceHiddenBtnId').click(); 
  	  	  	}
  	  		else if (mode==4)
  	  	  	{
  	  		 	document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentIdId').value = ret[0];
	    		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentNameId').value = ret[1];
	    		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentCodeId').value = ret[2];
	  			document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:depratmentHiddenBtnId').click(); 
  	  	  	}
  	  		else if (mode==5)
	  	  	{
	  		 	document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedCountryIdId').value = ret[0];
    			document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedCountryNameId').value = ret[1];
  				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:countryHiddenBtnId').click(); 
	  	  	}
  	  		else if (mode==6)
  	  		{
  		 		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeIdId').value = ret[0];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeNameId').value = ret[1];
  		 		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeSocialId').value = ret[2];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:employeeHiddenBtnId').click(); 
  	  		}
  	  		else if (mode==7)
  	  		{
  		 		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDomainIdId').value = ret[0];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDomainNameId').value = ret[1];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:domainHiddenBtnId').click(); 
  		  	}
	  		else if (mode==8)
	  		{
		 		document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpIdId').value = ret[0];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpNameId').value = ret[1];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpIdintityId').value = ret[2];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpDescId').value = ret[3];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpCountryId').value = ret[4];
				document.getElementById('infoRegFormId:extraInformationPanelId:infoRelatedId:nonEmpHiddenBtnId').click(); 
	  		}
	  		else if (mode==9)
	  		{
		 		document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentIdId').value = ret[0];
				document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentCodeId').value = ret[2];
				document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentTypeId').value = ret[5];
				document.getElementById('infoRegFormId:extraInformationPanelId:extraInfoTabId:AssignmentHiddenBtnId').click(); 
	  		}
	  		else if (mode==10) 
  	  	  	{
	    		document.getElementById('infoRegFormId:selectedDirNameId').value = ret[1];
	    		document.getElementById('infoRegFormId:showDirNameId').innerHTML = ret[1];
  	  	  	}
	  		else if (mode==11)
	  		{
	  			document.getElementById('infoRegFormId:selectedUnitId').value = ret[0];
        		document.getElementById('infoRegFormId:selectedUnitNameId').value = ret[1];
                document.getElementById('infoRegFormId:unitNameId').innerHTML = ret[1];
	  		}
	   	}
	   	return false;
  	 }

	  function resetUnit(){
		  document.getElementById('infoRegFormId:selectedUnitId').value = null;
  		  document.getElementById('infoRegFormId:selectedUnitNameId').value = '';
          document.getElementById('infoRegFormId:unitNameId').innerHTML = '';
 	      return false;
	  }
	  
	  function resetUnitAndSector(){
	  	  document.getElementById('infoRegFormId:selectedUnitId').value = null;
  		  document.getElementById('infoRegFormId:selectedUnitNameId').value = '';
          document.getElementById('infoRegFormId:unitNameId').innerHTML = '';
          document.getElementById('infoRegFormId:selectedSectorId').value = null;
  		  document.getElementById('infoRegFormId:selectedSectorNameId').value = '';
 	      return false;
	  }

	  function releaseMask(){
    		unMaskScreen();
      }

	  function confirmDialog(data)
	  {
		  var isAnalysis = document.getElementById('infoRegFormId:isAnalysisHiddenId').value;
	      var isSaving = document.getElementById('infoRegFormId:isSavingStepHiddenId').value;
	      if(data.status == 'success') {
			  if(isAnalysis=='false' &amp;&amp; isSaving=='false') {
				  PF('confrimCd').show();
			  }  else {
				  document.getElementById('infoRegFormId:sendHiddenButtonId').click();
			  }
	      } 
	  }

	  function validateData(msg){
			var conclousion = document.getElementById("infoRegFormId:conclusionId");
			if($(conclousion).val().length>500){
				showErrorMessage('#{msgs.error_conclusionExeeded}');
	            return false;
	        }
	        return confirm(msg);
		}

	  function handleDownloadFiles(e){
  		openDownloadPopupFlagId = document.getElementById('infoRegFormId:openDownloadPopupFlagId').value;
  		openDownloadDialogueFlagId = document.getElementById('infoRegFormId:openDownloadDialogueFlagId').value;
  		
  		if(e.status == 'success'){
  			if(openDownloadPopupFlagId == 'true'){
  				downloadFile();
      		}else if (openDownloadDialogueFlagId == 'true'){
      			PF('dlg').show();
          	}
  		}
      }

  	function uploadFile(){
  		fileArchivingParam = document.getElementById('infoRegFormId:fileArchivingParamId').value;
  		openUploadFile('#{infoRegistration.boolServerUploadPath}', fileArchivingParam);
  		return false;
      }

  	function downloadFile(){
  		downloadedFileParamId = document.getElementById('infoRegFormId:downloadedFileParamId').value;
  		openDownloadFile('#{infoRegistration.boolServerDownloadPath}',downloadedFileParamId);
  		return false;
      }
     </script>
</h:head>
<h:body styleClass="screenBg">
	<h:form id="infoRegFormId" dir="#{msgs.dir}">
		<ui:decorate template="/Main/Template.xhtml">
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<tr>
					<td width="100%" height="0" />
				</tr>

				<tr>
					<td class="screenTitle">
						<h:outputText value="#{msgs.title_infoRegestration}" rendered="#{(infoRegistration.role!=infoRegistration.anlaysisMangerRole) and (infoRegistration.role!=infoRegistration.regionAnlaysisMangerRole)}" />
						<h:outputText value="#{msgs.label_analysisAndProcessing}" rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_infoData}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td width="100%" height="5" />
				</tr>
				<tr>
					<td>
						<h:panelGroup id="sectionContentId">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_infoNumber}" />
									</th>
									<td width="20%">
										<h:outputText value="#{infoRegistration.infoRequest.infoNumber}" />
									</td>


									<th width="15%;">
										<h:outputText value="#{msgs.label_RegisterationDate}" />
									</th>
									<td width="20%">
										<h:outputText value="#{infoRegistration.infoRequest.registerationDateString}" />
									</td>

								</tr>
								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_infoReceiveDate}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<util:advancedHijriDate value="#{infoRegistration.infoRequest.receiveDate}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
										<h:outputText value="#{infoRegistration.infoRequest.receiveDateString}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

									<th width="15%;">
										<h:outputText value="#{msgs.label_time}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:inputText styleClass="form-control" id="infoTimeId" onblur="return valdiateField(event);" value="#{infoRegistration.infoRequest.receiveTime}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
										<h:outputText value="#{infoRegistration.infoRequest.receiveTime}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

								</tr>

								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_region}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu styleClass="form-control" value="#{infoRegistration.infoRequest.regionId}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole) and (infoRegistration.isHeadQuarter() == null)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.regions}" var="region" itemLabel="#{region.arabicName}" itemValue="#{region.id}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
											<f:ajax event="change" onevent="function(e){if(e.status == 'success') return resetUnitAndSector();}" execute="@this" render="infoRegFormId:sectorListId infoRegFormId:sectorPanelId infoRegFormId:regionId infoRegFormId:unitBtnId infoRegFormId:unitPanelId" listener="#{infoRegistration.getRegionSectors()}" />
										</h:selectOneMenu>
										<h:inputHidden id="regionId" value="#{infoRegistration.infoRequest.regionId}" />
										<h:outputText value="#{infoRegistration.infoRequest.regionName}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole) or not (infoRegistration.isHeadQuarter() == null)}" />
									</td>

									<th width="15%;">
										<h:outputText value="#{msgs.label_sector}" />
									</th>
									<td width="20%">
										<h:selectOneMenu disabled="#{empty infoRegistration.infoRequest.regionId}" id="sectorListId" styleClass="form-control" value="#{infoRegistration.infoRequest.sectorId}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.sectors}" var="dep" itemLabel="#{dep.arabicName}" itemValue="#{dep.id}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
											<f:ajax event="change" onevent="function(e){if(e.status == 'success') return resetUnit();}" execute="@this" render="infoRegFormId:unitBtnId infoRegFormId:unitPanelId infoRegFormId:sectorPanelId" />
										</h:selectOneMenu>
										<h:panelGroup id="sectorPanelId">
											<h:inputHidden id="sectorIdsId" value="#{infoRegistration.sectorIds}" />
											<h:inputHidden id="selectedSectorId" value="#{infoRegistration.infoRequest.sectorId}" />
											<h:inputHidden id="selectedSectorNameId" value="#{infoRegistration.infoRequest.sectorName}" />
											<h:outputText value="#{infoRegistration.infoRequest.sectorName}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
										</h:panelGroup>
									</td>
								</tr>

								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_unit}" />
										<h:commandButton id="unitBtnId" disabled="#{empty infoRegistration.infoRequest.regionId}" value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getUnit('#{request.contextPath}');" title="#{msgs.label_addUnit}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
									</th>
									<td width="20%">
										<h:panelGroup id="unitPanelId">
											<h:inputHidden id="selectedUnitId" value="#{infoRegistration.infoRequest.unitId}" />
											<h:inputHidden id="selectedUnitNameId" value="#{infoRegistration.infoRequest.unitName}" />
											<h:outputText id="unitNameId" value="#{infoRegistration.infoRequest.unitName}" />
										</h:panelGroup>
									</td>

									<th width="15%;">
										<h:outputText value="#{msgs.label_infoPriority}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu value="#{infoRegistration.infoRequest.importance}" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItems value="#{infoRegistration.infoImportanceList}" var="importance" itemLabel="#{importance.description}" itemValue="#{importance.id}" />
										</h:selectOneMenu>
									</td>

								</tr>
								<tr>
									<td colspan="2">
										<table width="100%">
											<tr>
												<td width="60%">
													<h:selectOneRadio value="#{infoRegistration.createInfoType}" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}">
														<f:selectItem itemLabel="#{msgs.label_newInfo}" itemValue="1" />
														<f:selectItem itemLabel="#{msgs.label_relatedInfo}" itemValue="2" />
														<f:ajax event="change" execute="@this" render="infoRegFormId:sectionContentId" listener="#{infoRegistration.emptyInfoRelatedData()}" />
													</h:selectOneRadio>
												</td>
												<td>
													<h:panelGroup id="relatedInfoPanel">
														<h:panelGroup rendered="#{(infoRegistration.createInfoType == 2) or ( not empty infoRegistration.infoRequest.relatedInfoId)}">
															<h:inputHidden id="selectedRelatedInfoId" value="#{infoRegistration.infoRequest.relatedInfoId}" />
															<h:inputHidden id="selectedRelatedInfoNumber" value="#{infoRegistration.infoRequest.relatedInfoNumber}" />
															<h:outputText id="relatedInfoNumber" value="#{infoRegistration.infoRequest.relatedInfoNumber }" />
															<h:commandButton value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getRelatedInfo('#{request.contextPath}');" title="#{msgs.label_addRelatedInfo}" />
															<h:commandButton id="relatedInfoHiddenBtnId" style="display:none;" action="#{infoRegistration.loadInfoRelatedData()}">
																<f:ajax execute="infoRegFormId:relatedInfoPanel" render="infoRegFormId:sectionContentId" />
															</h:commandButton>
														</h:panelGroup>
													</h:panelGroup>
												</td>
											</tr>
										</table>
									</td>

									<th width="15%;">
										<h:outputText value="#{msgs.label_infoConfidentiality}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu value="#{infoRegistration.infoRequest.confidentiality}" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItems value="#{infoRegistration.infoConfidentialityList}" var="confidentiality" itemLabel="#{confidentiality.description}" itemValue="#{confidentiality.id}" />
										</h:selectOneMenu>
									</td>
								</tr>

								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_infoType}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu styleClass="form-control" value="#{infoRegistration.infoTypeId}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.infoTypeList}" var="type" itemLabel="#{type.description}" itemValue="#{type.id}" />
											<f:ajax event="change" execute="@this" render="infoRegFormId:infoSubjectMenuId" listener="#{infoRegistration.getInfoSubjectByInfoTypeId()}" />
										</h:selectOneMenu>
										<h:outputText value="#{infoRegistration.infoRequest.typeDescription} &nbsp; " rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />

										<h:commandLink onclick="return getInfoDepends('#{request.contextPath}',3,'null',#{infoRegistration.infoRequest.infoTypeId});" value="#{msgs.label_infoTypeDpends}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

									<th width="15%;">
										<h:outputText value="#{msgs.label_infoSubject}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu id="infoSubjectMenuId" disabled="#{empty infoRegistration.infoTypeId}" styleClass="form-control" value="#{infoRegistration.infoRequest.infoSubjectId}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.infoSubjectList}" var="subject" itemLabel="#{subject.description}" itemValue="#{subject.id}" />
										</h:selectOneMenu>
										<h:outputText value="#{infoRegistration.infoRequest.subjectDescription} &nbsp; " rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />

										<h:commandLink onclick="return getInfoDepends('#{request.contextPath}',3,#{infoRegistration.infoRequest.infoSubjectId},'null');" value="#{msgs.label_infoSubjectDepends}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

								</tr>

								<tr>
									<th width="15%;">
										<h:outputText value="#{msgs.label_infoDetails}" />
										<h:outputText value="*" style="color:red;" />
									</th>
									<td width="75%" colspan="4">
										<h:inputTextarea id="infoDetailsId" styleClass="form-control" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}" value="#{infoRegistration.infoRequest.infoDetails}" rows="6" cols="100" />
									</td>

								</tr>


								<tr>
									<th width="15%">
										<h:outputText value="#{msgs.label_incomingSide}" />
									</th>
									<td width="20%">
										<h:selectOneMenu styleClass="form-control" value="#{infoRegistration.infoRequest.domainIncomingSideId}" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.incomingSideDomainList}" var="domain" itemLabel="#{domain.description}" itemValue="#{domain.id}" />
										</h:selectOneMenu>
										<h:outputText value="#{infoRegistration.infoRequest.domainIncomingSideDescription}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

									<th width="15%">
										<h:outputText value="#{msgs.label_fileNumber}" />
									</th>
									<td width="20%">
										<h:inputText style=" direction: ltr; text-align: right;width:50% " value="#{infoRegistration.infoRequest.incomingFileNumber}" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}" />
										<h:inputText maxlength="4" styleClass="form-control" style="width:20%" value="#{infoRegistration.infoRequest.incomingFileYear}" onkeypress="return checkDigit(event)" disabled="#{not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

								</tr>

								<tr>
									<th width="15%">
										<h:outputText value="#{msgs.label_dealingType}" />
									</th>
									<td width="20%">
										<h:selectOneMenu styleClass="form-control" value="#{infoRegistration.infoRequest.domainDealingTypeId}" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.dealingTypeDomainList}" var="domain" itemLabel="#{domain.description}" itemValue="#{domain.id}" />
										</h:selectOneMenu>
										<h:outputText value="#{infoRegistration.infoRequest.domainDealingTypeDescription}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

									<th width="15%">
										<h:outputText value="#{msgs.label_dealingLevel}" />
									</th>
									<td width="20%">
										<h:selectOneMenu styleClass="form-control" value="#{infoRegistration.infoRequest.domainDealingLevelId}" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}">
											<f:selectItem itemValue="" />
											<f:selectItems value="#{infoRegistration.dealingLevelDomainList}" var="domain" itemLabel="#{domain.description}" itemValue="#{domain.id}" />
										</h:selectOneMenu>
										<h:outputText value="#{infoRegistration.infoRequest.domainDealingLevelDescription}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>
								</tr>

								<tr>
									<th width="15%">
										<h:outputText value="#{msgs.label_number}" />
									</th>
									<td width="20%">
										<h:inputText rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" styleClass="form-control inputnumber" value="#{infoRegistration.infoRequest.incomingNumber}" maxlength="20" />
										<h:outputText value="#{infoRegistration.infoRequest.incomingNumber}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>

									<th width="15%">
										<h:outputText value="#{msgs.label_dateD}" />
									</th>
									<td width="20%">
										<util:advancedHijriDate value="#{infoRegistration.infoRequest.incomingDate}" rendered="#{(infoRegistration.role==infoRegistration.requesterRole)}" />
										<h:outputText value="#{infoRegistration.infoRequest.incomingDateString}" rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" />
									</td>
								</tr>

								<tr>
									<th width="15%">
										<h:outputText rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" value="#{msgs.label_infoEvaluation} *" style=" color:red;" />
									</th>
									<td width="20%">
										<h:selectOneMenu rendered="#{ not (infoRegistration.role==infoRegistration.requesterRole)}" disabled="#{(infoRegistration.role!=infoRegistration.generalIntelligenceRole and infoRegistration.role!=infoRegistration.generalDirctorRole and infoRegistration.role!=infoRegistration.regionIntelligenceRole and infoRegistration.role!=infoRegistration.regionIntelligenceSecurityRole) and  (not empty infoRegistration.currentTask)}" styleClass="form-control"
											value="#{infoRegistration.infoRequest.infoEvaluationId}">
											<f:selectItem itemLabel="#{infoRegistration.infoRequest.infoEvaluation}" itemValue="#{infoRegistration.infoRequest.infoEvaluationId}" />
											<f:selectItems value="#{infoRegistration.infoEvaluations}" var="info" itemLabel="#{info.description}" itemValue="#{info.id}" />
										</h:selectOneMenu>
									</td>
								</tr>
								<tr>
									<td colspan="4" width="100%" height="5" />
								</tr>

								<tr>
									<td colspan="8">
										<p:accordionPanel id="extraInformationPanelId" activeIndex="-1">
											<p:tab title="#{msgs.label_extraInformation} *" closable="true" titleStyle="color:red;">
												<h:panelGroup>
													<p:tabView id="extraInfoTabId" dir="rtl">
														<p:tab title="#{msgs.label_sources}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertAssignment}" onclick="return getAssignments('#{request.contextPath}');" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}" />
																			<h:inputHidden id="selectedAssignmentIdId" value="#{infoRegistration.assignmentInsert.id}" />
																			<h:inputHidden id="selectedAssignmentCodeId" value="#{infoRegistration.assignmentInsert.agentCode}" />
																			<h:inputHidden id="selectedAssignmentTypeId" value="#{infoRegistration.assignmentInsert.type}" />
																			<h:commandButton style="display:none;" id="AssignmentHiddenBtnId" action="#{infoRegistration.addSource(infoRegistration.assignmentInsert.type)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoAssignmentListId" execute="infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentCodeId infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentIdId infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedAssignmentTypeId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoAssignmentListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="assignmentRow" value="#{infoRegistration.assignmentList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">#</f:facet>
					                                    							#{index + 1}
				                                   								</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_agentCode}" />
																					</f:facet>
																					<h:outputText value="#{assignmentRow.agentCode}" />
																				</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header"> #{msgs.label_assignmentType} </f:facet>
																					<h:outputText value="#{assignmentRow.type.equals(infoRegistration.assignment) ? msgs.label_assignment : msgs.label_cooperator }" />
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteSource(assignmentRow.type,null,assignmentRow)}" onclick="return confirm('#{msgs.q_delete}');">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoAssignmentListId" />
																					</h:commandButton>
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',2,#{assignmentRow.id},#{assignmentRow.type});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.title_OpenSourcesInquiry}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertOpenSource}" onclick="return getOpenSource('#{request.contextPath}');" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}" />
																			<h:inputHidden id="selectedOpenSourceIdId" value="#{infoRegistration.openSourceInsert.id}" />
																			<h:inputHidden id="selectedOpenSourceNameId" value="#{infoRegistration.openSourceInsert.name}" />
																			<h:commandButton style="display:none;" id="openSourceHiddenBtnId" action="#{infoRegistration.addSource(infoRegistration.openSourceType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoOpenSourceListId" execute="infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedOpenSourceIdId infoRegFormId:extraInformationPanelId:extraInfoTabId:selectedOpenSourceNameId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoOpenSourceListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="openSourceRow" value="#{infoRegistration.openSourceList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_name}" />
																					</f:facet>
																					<h:outputText id="openSourceNameId" value="#{openSourceRow.name}" />
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteSource(infoRegistration.openSourceType,openSourceRow,null)}" onclick="return confirm('#{msgs.q_delete}');">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoOpenSourceListId" />
																					</h:commandButton>
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',2,#{openSourceRow.id},#{infoRegistration.openSourceType});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_coordinates}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertCoordinate}" action="#{infoRegistration.addNewCoordinate()}" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole) }">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoCoordinateListId" execute="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoCoordinateListId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoCoordinateListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="coorinateRow" value="#{infoRegistration.infoCoordinateList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					E
																				</f:facet>
																					<h:inputText maxlength="15" styleClass="form-control" style="width:40%" value="#{coorinateRow.eastSecondes}" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																					<h:inputText maxlength="2" styleClass="form-control" style="width:10%" value="#{coorinateRow.eastMinutes}" onkeypress="return checkDigit(event)" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																					<h:inputText maxlength="2" styleClass="form-control" style="width:10%" value="#{coorinateRow.eastDegree}" onkeypress="return checkDigit(event)" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					N
																				</f:facet>
																					<h:inputText maxlength="15" styleClass="form-control" style="width:40%" value="#{coorinateRow.northSecondes}" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																					<h:inputText maxlength="2" styleClass="form-control" style="width:15%" value="#{coorinateRow.northMinutes}" onkeypress="return checkDigit(event)" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																					<h:inputText maxlength="2" styleClass="form-control" style="width:15%" value="#{coorinateRow.northDegree}" onkeypress="return checkDigit(event)" disabled="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteCoordinate(coorinateRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{coorinateRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoCoordinateListId" />
																					</h:commandButton>
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_phones}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertPhone}" action="#{infoRegistration.addNewPhone()}" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoPhoneListId" execute="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoPhoneListId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoPhoneListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="phoneRow" value="#{infoRegistration.infoPhoneList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_phoneNumber}" />
																					</f:facet>
																					<h:inputText maxlength="19" styleClass="form-control" onblur="return isPhoneNumber(this)" onkeypress="return checkPhoneNumber(event)" value="#{phoneRow.phoneNumber}" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																					<h:outputText value="#{phoneRow.phoneNumber}" rendered="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_nameIfExist}" />
																					</f:facet>
																					<h:inputText maxlength="99" styleClass="form-control" value="#{phoneRow.phoneOwner}" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																					<h:outputText value="#{phoneRow.phoneOwner}" rendered="#{( not ( infoRegistration.role==infoRegistration.requesterRole) ) and   (not (infoRegistration.role==infoRegistration.anlaysisMangerRole)) and ( not  (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole))}" />
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deletePhone(phoneRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{phoneRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:extraInfoTabId:infoPhoneListId" />
																					</h:commandButton>
																				</p:column>

																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',6,#{phoneRow.phoneNumber});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
													</p:tabView>
												</h:panelGroup>
											</p:tab>
											<p:tab title="#{msgs.label_infoRelatedEntities} *" titleStyle=" color:red;">
												<h:panelGroup>
													<p:tabView dir="rtl" id="infoRelatedId">
														<p:tab title="#{msgs.label_entities}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertEntity}" onclick="return getDomain('#{request.contextPath}','#{infoRegistration.infoDomainPopupSearch}');" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																			<h:inputHidden id="selectedDomainIdId" value="#{infoRegistration.setupDomainInsert.id}" />
																			<h:inputHidden id="selectedDomainNameId" value="#{infoRegistration.setupDomainInsert.description}" />
																			<h:commandButton style="display:none;" id="domainHiddenBtnId" action="#{infoRegistration.addRelatedEntities(infoRegistration.relatedSetupDomainType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedDomainListId" execute="infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDomainIdId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDomainNameId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="relatedDomainListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="domainRow" value="#{infoRegistration.setupDomainList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_description}" />
																					</f:facet>
																					<h:outputText value="#{domainRow.description}" />
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteDomain(domainRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{domainRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedDomainListId" />
																					</h:commandButton>
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',4,#{domainRow.id},#{infoRegistration.relatedSetupDomainType});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_departments}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertDepartment}" onclick="return getDepartment('#{request.contextPath}');" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																			<h:inputHidden id="selectedDepartmentIdId" value="#{infoRegistration.departmentDataInsert.id}" />
																			<h:inputHidden id="selectedDepartmentNameId" value="#{infoRegistration.departmentDataInsert.arabicName}" />
																			<h:inputHidden id="selectedDepartmentCodeId" value="#{infoRegistration.departmentDataInsert.code}" />
																			<h:commandButton style="display:none;" id="depratmentHiddenBtnId" action="#{infoRegistration.addRelatedEntities(infoRegistration.relatedDepartmentType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedDepartmentListId" execute="infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentIdId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentNameId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedDepartmentCodeId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="relatedDepartmentListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="depRow" value="#{infoRegistration.departmentDataList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_name}" />
																					</f:facet>
																					<h:outputText value="#{depRow.arabicName}" />
																				</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_code}" />
																					</f:facet>
																					<h:outputText value="#{depRow.code}" />
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteDepartment(depRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{depRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedDepartmentListId" />
																					</h:commandButton>
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',4,#{depRow.id},#{infoRegistration.relatedDepartmentType});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_employees}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertEmployee}" onclick="return getEmployee('#{request.contextPath}');" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																			<h:inputHidden id="selectedEmployeeIdId" value="#{infoRegistration.employeeDataInsert.empId}" />
																			<h:inputHidden id="selectedEmployeeNameId" value="#{infoRegistration.employeeDataInsert.fullName}" />
																			<h:inputHidden id="selectedEmployeeSocialId" value="#{infoRegistration.employeeDataInsert.socialID}" />
																			<h:commandButton style="display:none;" id="employeeHiddenBtnId" action="#{infoRegistration.addRelatedEntities(infoRegistration.relatedEmployeeType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedEmployeeListId" execute="infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeSocialId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeIdId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedEmployeeNameId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="relatedEmployeeListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="empRow" value="#{infoRegistration.employeeDataList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_socialNumber}" />
																					</f:facet>
																					<h:outputText value="#{empRow.socialID}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_name}" />
																					</f:facet>
																					<h:outputText value="#{empRow.fullName}" />
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteEmployee(empRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{empRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedEmployeeListId" />
																					</h:commandButton>
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDependsEmployee('#{request.contextPath}',#{empRow.socialID});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_countries}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertCountry}" onclick="return getCountry('#{request.contextPath}');" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																			<h:inputHidden id="selectedCountryIdId" value="#{infoRegistration.countryDataInsert.id}" />
																			<h:inputHidden id="selectedCountryNameId" value="#{infoRegistration.countryDataInsert.arabicName}" />
																			<h:commandButton style="display:none;" id="countryHiddenBtnId" action="#{infoRegistration.addRelatedEntities(infoRegistration.relatedCountryType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedCountryListId" execute="infoRegFormId:extraInformationPanelId:infoRelatedId:selectedCountryIdId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedCountryNameId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="relatedCountryListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="countryRow" value="#{infoRegistration.countryDataList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_name}" />
																					</f:facet>
																					<h:outputText value="#{countryRow.arabicName}" />
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteCountry(countryRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{countryRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedCountryListId" />
																					</h:commandButton>
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',4,#{countryRow.id},#{infoRegistration.relatedCountryType});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
														<p:tab title="#{msgs.label_nonEmployees}">
															<h:panelGroup>
																<table width="100%">
																	<tr>
																		<td>
																			<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertNewNonEmployee}" onclick="return getNonEmployee('#{request.contextPath}');" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
																			<h:inputHidden id="selectedNonEmpIdId" value="#{infoRegistration.nonEmployeeDataInsert.id}" />
																			<h:inputHidden id="selectedNonEmpNameId" value="#{infoRegistration.nonEmployeeDataInsert.fullName}" />
																			<h:inputHidden id="selectedNonEmpDescId" value="#{infoRegistration.nonEmployeeDataInsert.description}" />
																			<h:inputHidden id="selectedNonEmpIdintityId" value="#{infoRegistration.nonEmployeeDataInsert.identity}" />
																			<h:inputHidden id="selectedNonEmpCountryId" value="#{infoRegistration.nonEmployeeDataInsert.countryArabicName}" />
																			<h:commandButton style="display:none;" id="nonEmpHiddenBtnId" action="#{infoRegistration.addRelatedEntities(infoRegistration.relatedNonEmployeeType)}">
																				<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedNonEmpListId" execute="infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpCountryId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpIdintityId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpDescId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpNameId infoRegFormId:extraInformationPanelId:infoRelatedId:selectedNonEmpIdId" />
																			</h:commandButton>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="relatedNonEmpListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="nonEmpRow" value="#{infoRegistration.nonEmployeesDataList}" rowHover="true">
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																					#
																				</f:facet>
					                                    						#{index + 1}
				                                   							</p:column>

																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_name}" />
																					</f:facet>
																					<h:outputText value="#{nonEmpRow.fullName}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_identity}" />
																					</f:facet>
																					<h:outputText value="#{nonEmpRow.identity}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_description}" />
																					</f:facet>
																					<h:outputText value="#{nonEmpRow.description}" />
																				</p:column>
																				<p:column styleClass='centerText'>
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_nationality}" />
																					</f:facet>
																					<h:outputText value="#{nonEmpRow.countryArabicName}" />
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{((infoRegistration.role==infoRegistration.requesterRole)) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_delete}" />
																					</f:facet>
																					<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteNonEmployee(nonEmpRow)}" onclick="return confirm('#{msgs.q_delete}');" rendered="#{nonEmpRow.selected or ((infoRegistration.role==infoRegistration.requesterRole))}">
																						<f:ajax render="infoRegFormId:extraInformationPanelId:infoRelatedId:relatedNonEmpListId" />
																					</h:commandButton>
																				</p:column>
																				<p:column styleClass='centerText' style="width:6%;" rendered="#{ not  (infoRegistration.role==infoRegistration.requesterRole)}">
																					<f:facet name="header">
																						<h:outputText value="#{msgs.label_infoDepndes}" />
																					</f:facet>
																					<h:commandButton value="&#xf05a;" styleClass="btn btn-trans-icon" onclick="return getInfoDepends('#{request.contextPath}',4,#{nonEmpRow.id},#{infoRegistration.relatedNonEmployeeType});" />
																				</p:column>
																			</p:dataTable>
																		</td>
																	</tr>
																</table>
															</h:panelGroup>
														</p:tab>
													</p:tabView>
												</h:panelGroup>
											</p:tab>
											<p:tab title="#{msgs.label_analysisAndProcessing}" rendered="#{(infoRegistration.role==infoRegistration.generalMangerAnalysis) or (infoRegistration.role==infoRegistration.regionMangerAnalysis)}">
												<h:panelGroup id="analysisAndProscessiongTabId">
													<table width="100%">
														<tr>
															<td>
																<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="analysisAndProcessionListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="analysisRow" value="#{infoRegistration.infoAnalysisList}" rowHover="true">
																	<p:column styleClass='centerText'>
																		<f:facet name="header">
																				#
																		</f:facet>
					                                    				#{index + 1}
				                                   					</p:column>

																	<p:column styleClass='centerText'>
																		<f:facet name="header">
																			<h:outputText value="#{msgs.label_unitDep}" />
																		</f:facet>
																		<h:outputText value="#{analysisRow.departmentName}" />
																	</p:column>
																	<p:column styleClass='centerText'>
																		<f:facet name="header">
																			<h:outputText value="#{msgs.label_analysisDate}" />
																		</f:facet>
																		<h:outputText value="#{analysisRow.analysisDateString}" />
																	</p:column>
																	<p:column styleClass='centerText'>
																		<f:facet name="header">
																			<h:outputText value="#{msgs.label_conclusion}" />
																		</f:facet>
																		<h:outputText value="#{analysisRow.conclusion}" />
																	</p:column>
																	<p:column styleClass='centerText'>
																		<f:facet name="header">
																			<h:outputText value="#{msgs.label_description}" />
																		</f:facet>
																		<h:commandButton value="&#xf06e;" styleClass="btn btn-trans-icon" action="#{infoRegistration.showInfoAnalysisDetails(analysisRow.id)}" rendered="#{not empty analysisRow.conclusion}">
																			<f:ajax render="infoRegFormId:extraInformationPanelId:analysisAndProscessiongTabId" onevent="function(e){if(e.status == 'success') PF('dialog').show();}" />
																		</h:commandButton>
																		<h:outputText value="#{msgs.label_waitingFinishingAnalysis}" rendered="#{empty analysisRow.conclusion}" />
																	</p:column>
																</p:dataTable>
																<h:panelGroup id="analysisDetailsDialogId">
																	<p:dialog widgetVar="dialog" modal="true">
																		<h:panelGroup>
																			<table>
																				<tr>
																					<th>
																						<h:outputText value="#{msgs.label_analysisClassification}" />
																					</th>
																					<th>
																						<h:outputText value="#{msgs.label_analysisReference}" />
																					</th>
																				</tr>
																				<tr>
																					<td>
																						<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoAnalysisListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="analysisDetailRow" value="#{infoRegistration.infoAnalysisDetailDataList}" rowHover="true">
																							<p:column styleClass='centerText'>
																								<f:facet name="header">
																												#
																									</f:facet>
																			                            #{index + 1}
																		                    </p:column>

																							<p:column styleClass='centerText'>
																								<f:facet name="header">
																									<h:outputText value="#{msgs.label_classification}" />
																								</f:facet>
																								<h:outputText value="#{analysisDetailRow.classificationTypeDescription}" />
																							</p:column>

																							<p:column styleClass='centerText'>
																								<f:facet name="header">
																									<h:outputText value="#{msgs.label_subClassification}" />
																								</f:facet>
																								<h:outputText value="#{analysisDetailRow.classificationDescription}" />
																							</p:column>
																						</p:dataTable>
																					</td>
																					<td>
																						<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoAnalysisReferenceListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="analysisRefRow" value="#{infoRegistration.analysisRefenceList}" rowHover="true">
																							<p:column styleClass='centerText'>
																								<f:facet name="header">
																												#
																									</f:facet>
																			                            #{index + 1}
																		                    </p:column>

																							<p:column styleClass='centerText'>
																								<h:outputText value="#{analysisRefRow.domainReferenceDescription}" />
																							</p:column>
																						</p:dataTable>
																					</td>
																				</tr>
																			</table>
																		</h:panelGroup>
																	</p:dialog>
																</h:panelGroup>
															</td>
														</tr>
													</table>
												</h:panelGroup>
											</p:tab>
										</p:accordionPanel>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_decisions}" rendered="#{not ( (infoRegistration.role==infoRegistration.requesterRole) or  (infoRegistration.role==infoRegistration.notificationRole) or (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)  or (empty infoRegistration.currentTask))}" />
									<h:outputText value="#{msgs.label_analysisAndProcessing}" rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="decisionsContentId" rendered="#{ (not (infoRegistration.role==infoRegistration.requesterRole))  and ( not (infoRegistration.role==infoRegistration.notificationRole))}">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th width="50%">
										<h:outputText value="#{msgs.label_direction}" rendered="#{ not ((infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole) )}" />
										<h:outputText value="#{msgs.label_analysisClassification}" rendered="#{ (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
									</th>
									<th>
										<h:outputText value="#{msgs.label_comment}" rendered="#{ not ((infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole) or (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole))}" />
										<h:outputText value="#{msgs.label_directionSummary}" rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }" />
										<h:outputText value="#{msgs.label_conclusion}" rendered="#{ (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
										<h:outputText value="*" style="color:red;" rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
									</th>
								</tr>
								<tr>
									<td colspan="1" width="50%">
										<h:panelGroup id="generalIntellegencSectionId" rendered="#{ (infoRegistration.role==infoRegistration.generalIntelligenceRole) or (infoRegistration.role==infoRegistration.regionIntelligenceRole) or (infoRegistration.role==infoRegistration.regionIntelligenceSecurityRole) }">
											<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td>
														<h:selectBooleanCheckbox value="#{infoRegistration.isSaving}" title="#{msgs.label_saveInfo}" />
														<h:outputText value="#{msgs.label_saveInfo}" />
													</td>
												</tr>
											</table>
										</h:panelGroup>
										<h:panelGroup id="generalDirectorSectionDirectionId" rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }">
											<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td>
														<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="analysisListId" paginator="true" style="width:100%" rowIndexVar="index" rows="5" var="depRow" value="#{infoRegistration.analysisDepartments}" rowHover="true">
															<p:column styleClass='centerText'>
																<h:outputText value="#{depRow.arabicName}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_analysisAndProcessing}" />
																</f:facet>
																<h:selectBooleanCheckbox value="#{infoRegistration.processingMap[depRow]}" disabled="#{ not infoRegistration.isAnalysis}" rendered="#{not depRow.selected}">
																	<f:ajax event="change" listener="#{infoRegistration.handleTransferedList(depRow,1)}" execute="@this" render="infoRegFormId:transfreedPanaelId" />
																</h:selectBooleanCheckbox>
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_notify}" />
																</f:facet>
																<h:selectBooleanCheckbox value="#{infoRegistration.notifiedMap[depRow]}" disabled="#{ not infoRegistration.isAnalysis}">
																	<f:ajax event="change" listener="#{infoRegistration.handleTransferedList(depRow,2)}" execute="@this" render="infoRegFormId:transfreedPanaelId" />
																</h:selectBooleanCheckbox>
															</p:column>
														</p:dataTable>
													</td>
												</tr>
											</table>
										</h:panelGroup>
										<h:panelGroup id="analysisSectionId" rendered="#{ (infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
											<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td>
														<h:commandButton styleClass="btn btn-warning" value="#{msgs.label_insertClassification}" action="#{infoRegistration.addInfoAnalysis()}">
															<f:ajax render="infoRegFormId:infoAnalysisListId" execute="infoRegFormId:infoAnalysisListId" />
														</h:commandButton>
														<h:outputText value="*" style="color:red;" />
													</td>
												</tr>
												<tr>
													<td>
														<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="infoAnalysisListId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="analysisRow" value="#{infoRegistration.infoAnalysisDetailDataList}" rowHover="true">
															<p:column styleClass='centerText'>
																<f:facet name="header">
																			#
																	</f:facet>
										                             #{index + 1}
									                        </p:column>

															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_classification}" />
																</f:facet>
																<h:selectOneMenu styleClass="form-control" value="#{analysisRow.classificationTypeId}">
																	<f:selectItem itemLabel="" />
																	<f:selectItems value="#{infoRegistration.classificationTypesList}" var="class" itemLabel="#{class.description}" itemValue="#{class.id}" />
																	<f:ajax render="infoRegFormId:infoAnalysisListId" execute="@this" listener="#{infoRegistration.addNewClassification(index,analysisRow.classificationTypeId)}" />
																</h:selectOneMenu>
															</p:column>

															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_subClassification}" />
																</f:facet>
																<h:selectOneMenu styleClass="form-control" value="#{analysisRow.classificationId}" disabled="#{ empty analysisRow.classificationTypeId}">
																	<f:selectItem itemLabel="" />
																	<f:selectItems value="#{infoRegistration.classificationsMap[index]}" var="class" itemLabel="#{class.description}" itemValue="#{class.id}" />
																</h:selectOneMenu>
															</p:column>

															<p:column styleClass='centerText' style="width:6%;">
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_delete}" />
																</f:facet>
																<h:commandButton value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{infoRegistration.deleteInfoAnalysis(analysisRow)}" onclick="return confirm('#{msgs.q_delete}');">
																	<f:ajax render="infoRegFormId:infoAnalysisListId" />
																</h:commandButton>
															</p:column>
														</p:dataTable>
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
									<td>
										<h:panelGroup id="transfreedPanaelId" rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }">
											<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="50%">
														<p:dataList value="#{infoRegistration.transferedProcessingList}" var="p" type="unordered" itemType="none">
															<f:facet name="header">
																<h:outputText value="#{msgs.label_analysisAndProcessing}" />
															</f:facet>
															<h:outputText value="#{p}" />
														</p:dataList>
													</td>
													<td>
														<p:dataList value="#{infoRegistration.transferedNotifiedList}" var="n" type="unordered" itemType="none">
															<f:facet name="header">
																<h:outputText value="#{msgs.label_notify}" />
															</f:facet>
															<h:outputText value="#{n}" />
														</p:dataList>
													</td>
												</tr>
											</table>
										</h:panelGroup>
										<h:inputTextarea value="#{infoRegistration.currentTask.notes}" rows="10" cols="80" disabled="#{((infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.regionDirctorRole) and (not infoRegistration.isAnalysis)) or (infoRegistration.role==infoRegistration.historyRole)  }"
											rendered="#{not (infoRegistration.role==infoRegistration.anlaysisMangerRole or infoRegistration.role==infoRegistration.generalMangerAnalysis or infoRegistration.role==infoRegistration.regionAnlaysisMangerRole or infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.regionDirctorRole or infoRegistration.role==infoRegistration.regionMangerAnalysis)}" />
										<h:inputTextarea id="conclusionId" value="#{infoRegistration.infoAnalysis.conclusion}" rows="10" cols="80" rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" />
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<h:panelGroup rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}">
											<p:selectCheckboxMenu label="#{msgs.label_analysisReference}" id="analysisReferenceId" value="#{infoRegistration.selectedAnalysisDomains}" filter="true" filterMatchMode="startsWith" styleClass="btn btn_normal">
												<f:selectItems value="#{infoRegistration.securitySectionsDomainsList}" var="analysis" itemLabel="#{analysis.description}" itemValue="#{analysis.id}" />
											</p:selectCheckboxMenu>
											<h:outputText value="*" style="color:red;" />
										</h:panelGroup>
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<h:panelGroup rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }">
											<table width="100%">
												<tr>
													<th width="15%">
														<h:outputText value="#{msgs.label_comment}" rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }" />
													</th>
													<td>
														<h:inputTextarea value="#{infoRegistration.currentTask.notes}" rows="5" cols="80" disabled="#{((infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.regionDirctorRole) and (not infoRegistration.isAnalysis)) or (infoRegistration.role==infoRegistration.historyRole)  }" rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }" />
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="generalIntellegenceExtendedSectionId">
							<h:panelGroup rendered="#{ (infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.generalMangerAnalysis or infoRegistration.role==infoRegistration.regionDirctorRole or infoRegistration.role==infoRegistration.regionMangerAnalysis) and (infoRegistration.isAnalysis==false)}">
								<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
									<tr>
										<td colspan="2">
											<h:panelGroup rendered="#{(infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole)}">
												<table width="100%">
													<tr>

														<th width="50%">
															<h:outputText value="#{msgs.label_comment}" />
														</th>
													</tr>
												</table>
											</h:panelGroup>
										</td>
									</tr>
									<tr>
										<td width="50%">
											<h:panelGroup id="infoGeneralIntelegencOptionId">
												<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
													<tr>
														<td colspan="2">
															<h:selectOneRadio value="#{infoRegistration.selectedOption}">
																<f:selectItem itemLabel="#{msgs.label_passInfo}" itemValue="0" />
																<f:selectItem itemLabel="#{msgs.label_saveInfo}" itemValue="1" />
																<f:ajax event="change" execute="@this" render="infoRegFormId:infoGeneralIntelegencOptionId" />
															</h:selectOneRadio>
														</td>
													</tr>
													<tr>
														<td>
															<h:selectBooleanCheckbox value="#{infoRegistration.internalMinistry}" rendered="#{infoRegistration.selectedOption==0}" />
														</td>
														<td>
															<h:outputText value="#{msgs.label_internalMinistry}" rendered="#{(infoRegistration.selectedOption==0) and (infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.generalMangerAnalysis)}" />
															<h:outputText value="#{msgs.label_regionPrincedom}" rendered="#{(infoRegistration.selectedOption==0) and (infoRegistration.role==infoRegistration.regionDirctorRole or infoRegistration.role==infoRegistration.regionMangerAnalysis)}" />
														</td>
													</tr>
													<tr>
														<td>
															<h:selectBooleanCheckbox value="#{infoRegistration.secuirtySection}" rendered="#{infoRegistration.selectedOption==0}">
																<f:ajax execute="infoRegFormId:infoGeneralIntelegencOptionId" render="infoRegFormId:infoGeneralIntelegencOptionId" />
															</h:selectBooleanCheckbox>
														</td>
														<td>
															<h:outputText value="#{msgs.label_secuirtySection}" rendered="#{infoRegistration.selectedOption==0}" />
															<p:selectCheckboxMenu value="#{infoRegistration.selectedSecurityDomains}" filter="true" filterMatchMode="startsWith" styleClass="btn btn_normal" rendered="#{(infoRegistration.secuirtySection) and (infoRegistration.selectedOption==0)}">
																<f:selectItems value="#{infoRegistration.securitySectionsDomainsList}" var="domain" itemLabel="#{domain.description}" itemValue="#{domain.description}" />
															</p:selectCheckboxMenu>
														</td>
													</tr>
													<tr>
														<td>
															<h:selectBooleanCheckbox value="#{infoRegistration.internalDepartment}" rendered="#{infoRegistration.selectedOption==0}">
																<f:ajax execute="infoRegFormId:infoGeneralIntelegencOptionId" render="infoRegFormId:infoGeneralIntelegencOptionId" />
															</h:selectBooleanCheckbox>
														</td>
														<td>
															<h:outputText value="#{msgs.label_internalDepartment}" rendered="#{(infoRegistration.selectedOption==0) and (infoRegistration.role==infoRegistration.generalDirctorRole or infoRegistration.role==infoRegistration.generalMangerAnalysis)}" />
															<h:outputText value="#{msgs.label_departmentInsideRegion}" rendered="#{(infoRegistration.selectedOption==0) and (infoRegistration.role==infoRegistration.regionDirctorRole or infoRegistration.role==infoRegistration.regionMangerAnalysis)}" />

															<h:commandButton rendered="#{infoRegistration.internalDepartment}" value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getDirDepartments('#{request.contextPath}',#{infoRegistration.directorateDepId});">
																<f:ajax execute="infoRegFormId:infoGeneralIntelegencOptionId" />
															</h:commandButton>
															<h:inputHidden id="selectedDirNameId" value="#{infoRegistration.selectedDirDepartment}" />
															<h:outputText rendered="#{infoRegistration.internalDepartment}" id="showDirNameId" value="#{infoRegistration.selectedDirDepartment}" />
														</td>
													</tr>
												</table>
											</h:panelGroup>
										</td>
										<td>
											<h:inputTextarea style="width:90%;" value="#{infoRegistration.currentTask.notes}" disabled="#{infoRegistration.role==infoRegistration.historyRole}" rows="10" cols="80" />
										</td>
									</tr>

									<tr>
										<td colspan="2">
											<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<th>
														<h:outputText value="#{msgs.label_recommindationsInfoEmp}" />
													</th>

													<th>
														<h:outputText value="#{msgs.label_recommindationsInfoSource}" />
													</th>
												</tr>
												<tr>
													<td width="77%">
														<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="recommindationListId" paginator="true" style="width:100%" rowIndexVar="index" rows="5" var="rocmmdRow" value="#{infoRegistration.infoRecommendationList}" rowHover="true">
															<p:column styleClass='centerText'>
																<f:facet name="header">
																		#
																</f:facet>
					                                					#{index + 1}
				                                  				</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_socialNumber}" />
																</f:facet>
																<h:outputText value="#{rocmmdRow.employeeSocialNumber}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_name}" />
																</f:facet>
																<h:outputText value="#{rocmmdRow.employeeFullName}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_rank}" />
																</f:facet>
																<h:outputText value="#{rocmmdRow.employeeRank}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_Surveillance}" />
																</f:facet>
																<h:selectBooleanCheckbox value="#{rocmmdRow.surveillance}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_securityCheck}" />
																</f:facet>
																<h:selectBooleanCheckbox value="#{rocmmdRow.securityCheck}" />
															</p:column>
															<p:column styleClass='centerText'>
																<f:facet name="header">
																	<h:outputText value="#{msgs.label_labCheck}" />
																</f:facet>
																<h:selectBooleanCheckbox value="#{rocmmdRow.labCheck}" />
															</p:column>
														</p:dataTable>
													</td>
													<td width="3%"></td>
													<td width="20%">
														<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
															<tr>
																<td>
																	<h:selectBooleanCheckbox value="#{infoRegistration.infoRequest.payReward}" />
																	<h:outputText value="#{msgs.label_payReward}" />
																</td>
															</tr>
															<tr>
																<td>
																	<h:selectBooleanCheckbox value="#{infoRegistration.infoRequest.agentEvaluation}" />
																	<h:outputText value="#{msgs.label_agentEvaluation}" />
																</td>
															</tr>
															<tr>
																<td>
																	<h:selectBooleanCheckbox value="#{infoRegistration.infoRequest.agentApprove}" />
																	<h:outputText value="#{msgs.label_agentApprove}" />
																</td>
															</tr>
														</table>
													</td>
												</tr>
											</table>
										</td>
									</tr>
									<tr>
										<td colspan="2">
											<p:selectCheckboxMenu label="#{msgs.label_viewPermissions}" id="viewPermissionsId" value="#{infoRegistration.selectedRegions}" filter="true" filterMatchMode="startsWith" styleClass="btn btn_normal">
												<f:selectItems value="#{infoRegistration.regionDepartments}" var="dep" itemLabel="#{dep.arabicName}" itemValue="#{dep.id}" />
											</p:selectCheckboxMenu>
										</td>
									</tr>
								</table>
							</h:panelGroup>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<h:panelGroup rendered="#{not empty infoRegistration.infoRequest.id}">
							<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td width="100%">
										<h:commandButton styleClass="btn btn-success" id="archiveBtnUploadId" value="&#xf187; #{msgs.label_archiveDocuments}" rendered="#{infoRegistration.role==infoRegistration.requesterRole}">
											<f:ajax listener="#{infoRegistration.getUploadParam(infoRegistration.infoRequest.id)}" render="infoRegFormId:fileArchivingParamId" onevent="function(e){if(e.status == 'success') return uploadFile();}" />
										</h:commandButton>

										<h:commandButton styleClass="btn btn-success" id="archiveBtnDownloadId" value="&#xf0c5; #{msgs.label_archiveDocumentsShow}">
											<f:ajax render="infoRegFormId:downloadDlgPanelId infoRegFormId:openDownloadDialogueFlagId infoRegFormId:openDownloadPopupFlagId infoRegFormId:downloadedFileParamId" listener="#{infoRegistration.getDownloadedAttachmentsIdList(infoRegistration.infoRequest.id)}" onevent="handleDownloadFiles" />
										</h:commandButton>
										<h:inputHidden id="fileArchivingParamId" value="#{infoRegistration.fileArchivingParam}" />
										<h:inputHidden id="downloadedFileParamId" value="#{infoRegistration.downloadFileParamId}" />
										<h:inputHidden id="openDownloadPopupFlagId" value="#{infoRegistration.openDownloadPopupFlag}" />
										<h:inputHidden id="openDownloadDialogueFlagId" value="#{infoRegistration.openDownloadDialogueFlag}" />
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td width="100%">
						<code:prevTasks rendered="#{ not empty infoRegistration.currentTask}" value="#{infoRegistration.prevTasks}" />
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>


				<tr>
					<td>
						<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:commandButton styleClass="btn btn-default" id="printBtn" value="&#xf02f; #{msgs.label_print}" action="#{infoRegistration.print()}" rendered="#{not empty infoRegistration.infoRequest.id}" />

									<h:commandButton styleClass="btn btn-success" value="&#xf0c7; #{msgs.label_save}" action="#{infoRegistration.save()}" rendered="#{infoRegistration.role==infoRegistration.requesterRole}" onclick="return confirm('#{msgs.q_save}');" />

									<h:commandButton styleClass="btn btn-success btn-send" value="&#xf1d8; #{msgs.label_saveAndSend}" action="#{infoRegistration.saveAndSend()}" rendered="#{infoRegistration.role==infoRegistration.requesterRole}" onclick="return confirm('#{msgs.q_confirm}');" />

									<h:commandButton id="rejectBtnId" styleClass="btn btn-danger" action="#{infoRegistration.doReject()}" rendered="#{(infoRegistration.role==infoRegistration.generalIntelligenceRole) or (infoRegistration.role==infoRegistration.regionIntelligenceRole) or (infoRegistration.role==infoRegistration.regionIntelligenceSecurityRole) or (infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole) }" value="&#xf00d; #{msgs.label_reject}"
										onclick="return confirm('#{msgs.q_reject}');" />

									<h:commandButton styleClass="btn btn-success btn-send" value="&#xf1d8; #{msgs.label_send}" action="#{infoRegistration.doInfoDm()}" rendered="#{(infoRegistration.role==infoRegistration.generalIntelligenceRole) or (infoRegistration.role==infoRegistration.regionIntelligenceRole)}" onclick="return confirm('#{msgs.q_confirm}');" />

									<h:commandButton styleClass="btn btn-success " value="&#xf1d8; #{msgs.label_approve}" action="#{infoRegistration.doInfoRegionIntelligenceSecuirtyManager()}" rendered="#{(infoRegistration.role==infoRegistration.regionIntelligenceSecurityRole) }" onclick="return confirm('#{msgs.q_approve}');" />

									<h:commandButton styleClass="btn btn-success" value="&#xf1d8; #{msgs.label_send}" action="#{infoRegistration.doInfoSm()}" rendered="#{(infoRegistration.role==infoRegistration.generalDirctorRole) or (infoRegistration.role==infoRegistration.regionDirctorRole)}">
										<f:ajax execute="infoRegFormId:decisionsContentId infoRegFormId:generalIntellegenceExtendedSectionId infoRegFormId:viewPermissionsId" render="infoRegFormId:decisionsContentId infoRegFormId:isAnalysisHiddenId infoRegFormId:isSavingStepHiddenId" onevent="confirmDialog" />
									</h:commandButton>

									<h:commandButton id="sendHiddenButtonId" style="display:none;" action="#{infoRegistration.doInfoSMRedirect()}" />
									<h:inputHidden value="#{infoRegistration.isAnalysis}" id="isAnalysisHiddenId" />
									<h:inputHidden value="#{infoRegistration.finalSend}" id="isSavingStepHiddenId" />
									<p:confirmDialog closable="false" message="#{msgs.q_analysisCheck}" severity="alert" widgetVar="confrimCd">
										<h:commandButton styleClass="btn btn-default" value="#{msgs.label_yes}" action="#{infoRegistration.refreshSubmit()}" onclick="PF('confrimCd').hide();">
											<f:ajax render="infoRegFormId:generalIntellegenceExtendedSectionId" />
										</h:commandButton>
										<h:commandButton styleClass="btn btn-default" value="#{msgs.label_no}" action="#{infoRegistration.confirmDailog()}" onclick="PF('confrimCd').hide();">
											<f:ajax execute="@this" render="infoRegFormId:decisionsContentId" />
										</h:commandButton>
									</p:confirmDialog>

									<h:commandButton styleClass="btn btn-success btn-send" value="&#xf1d8; #{msgs.label_send}" action="#{infoRegistration.doInfoAnalysis()}" rendered="#{(infoRegistration.role==infoRegistration.anlaysisMangerRole) or (infoRegistration.role==infoRegistration.regionAnlaysisMangerRole)}" onclick="return validateData('#{msgs.q_confirm}');" />

									<h:commandButton styleClass="btn btn-success btn-send" value="&#xf1d8; #{msgs.label_send}" action="#{infoRegistration.doInfoAnalysisReview()}" rendered="#{(infoRegistration.role==infoRegistration.generalMangerAnalysis) or (infoRegistration.role==infoRegistration.regionMangerAnalysis)}" onclick="return confirm('#{msgs.q_confirm}');" />

									<h:commandButton styleClass="btn btn-success " value="#{msgs.label_notified}" action="#{infoRegistration.doNotify()}" rendered="#{(infoRegistration.role==infoRegistration.notificationRole) and  (not empty infoRegistration.currentTask)}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>

			<h:panelGroup id="downloadDlgPanelId">
				<p:dialog dir="#{msgs.dir}" header="#{msgs.label_archiveDocumentsShow}" id="dlgId" widgetVar="dlg" modal="true" height="180px;" width="720px">
					<h:panelGroup id="internalDlgPanelId">
						<table width="100%">
							<tr>
								<td>
									<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="fileListIds" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="row" value="#{infoRegistration.attachmentList}" widgetVar="table" rowHover="true">
										<p:column styleClass='centerText'>
											<f:facet name="header">#</f:facet>
		                                    #{index + 1}
	                                   	</p:column>
										<p:column styleClass='centerText'>
											<f:facet name="header">
													#{msgs.label_fileName}
												</f:facet>
											<h:outputText value="#{row.fileName}" />
										</p:column>
										<p:column styleClass='centerText'>
											<f:facet name="header">
												#{msgs.label_download}
											</f:facet>
											<h:commandButton styleClass="btn btn-success" value="&#xf019; #{msgs.label_download}">
												<f:ajax render="infoRegFormId:internalDlgPanelId infoRegFormId:downloadedFileParamId" listener="#{infoRegistration.getDownloadParam(row.attachmentId)}" onevent="function(e){if(e.status == 'success') return downloadFile();}" />
											</h:commandButton>
										</p:column>
										<p:column styleClass='centerText' rendered="#{infoRegistration.role==infoRegistration.requesterRole}">
											<f:facet name="header">
												#{msgs.label_delete}
											</f:facet>
											<h:commandButton styleClass="btn btn-trans-icon" value="&#xf00d;">
												<f:ajax render="infoRegFormId:internalDlgPanelId infoRegFormId:downloadedFileParamId" listener="#{infoRegistration.getDeleteParam(row)}" />
											</h:commandButton>
										</p:column>
									</p:dataTable>
								</td>
							</tr>
						</table>
					</h:panelGroup>
				</p:dialog>
			</h:panelGroup>

		</ui:decorate>
	</h:form>
</h:body>
</html>