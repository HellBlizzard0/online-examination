<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:code="http://java.sun.com/jsf/composite/code" xmlns:of="http://omnifaces.org/functions" xmlns:o="http://omnifaces.org/ui" xmlns:h="http://java.sun.com/jsf/html" xmlns:util="http://java.sun.com/jsf/composite/util" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="styles.css" />
	<h:outputStylesheet library="css" name="grid.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />

	<h:outputScript name="utilities.js" library="javascript" target="head" />

	<script type="text/javascript">
		var m;

		function getDepartment(contextPath){
        	m = 1;
        	var regionId = document.getElementById('assignmentFormId:selectedRegionId').value;
    		openDepartmentsMiniSearch(contextPath, 5, regionId, null);
    		return false;
    	}
    	
    	function getEmployee(contextPath, mode, depsList){
			m = mode;
			if(mode == 2) {
    			openEmpsMiniSearch(contextPath, 2, depsList);
			} else if(mode == 4) {
				openEmpsMiniSearch(contextPath, 3, depsList);
			}
    		return false;
    	}

    	function getRegion(contextPath,mode){
	    	m = 3;
			openDepartmentsMiniSearch(contextPath,mode, null, '#{employeeAssginment.departmentType}');
			return false;
		}
    	
    	function getUnit(contextPath,sectorId) {
    		m = 5;
    		openDepartmentsMiniSearch(contextPath,6,sectorId, null);
    		return false;
    	}

    	function employeeInfoSysDetails(contextPath, socialId){
    		openEmployeeInfoSysDetailsBySocialId(contextPath, socialId);
			return false;
		}
		
    	function releaseMask(){
    		unMaskScreen();
       	}
       	
    	function HandlePopupResult(ret) { 
    		unMaskScreen();
    		if(ret!=null){
        		if( m== 1){
        			document.getElementById('assignmentFormId:selectedDepartmentId').value = ret[0];
	   	         	document.getElementById('assignmentFormId:selectedDepartmentNameId').value = ret[1];
	   	         	document.getElementById('assignmentFormId:departmentNameId').innerHTML = ret[1];
	   	    		document.getElementById('assignmentFormId:selectedUnitId').value = null;
	    		  	document.getElementById('assignmentFormId:selectedUnitNameId').value = '';
	            	document.getElementById('assignmentFormId:unitNameId').innerHTML = '';

	            	document.getElementById('assignmentFormId:officerIdId').value = null;
	   	            document.getElementById('assignmentFormId:officerNameHiddenId').value = null;
	   	         	document.getElementById('assignmentFormId:officerNameId').innerHTML = '';
	            	
	            	document.getElementById('assignmentFormId:updateUnitButtonId').click();
           		}else if (m == 2){
	           		document.getElementById('assignmentFormId:selectedEmployeeId').value=ret[0];
	   	        	document.getElementById('assignmentFormId:insertNewRecord').click();
          		}else if (m == 3){
          			document.getElementById('assignmentFormId:selectedRegionId').value = ret[0];
	   	         	document.getElementById('assignmentFormId:selectedRegionNameId').value = ret[1];
	   	         	document.getElementById('assignmentFormId:regionNameId').innerHTML = ret[1];

	   	            document.getElementById('assignmentFormId:selectedDepartmentId').value = null;
	   	         	document.getElementById('assignmentFormId:selectedDepartmentNameId').value = null;
	   	         	document.getElementById('assignmentFormId:departmentNameId').innerHTML = '';
	   	         	
	   	         	document.getElementById('assignmentFormId:selectedUnitId').value = null;
	    		  	document.getElementById('assignmentFormId:selectedUnitNameId').value = '';
	            	document.getElementById('assignmentFormId:unitNameId').innerHTML = '';
	   	         	
	   	            document.getElementById('assignmentFormId:officerIdId').value = null;
	   	            document.getElementById('assignmentFormId:officerNameHiddenId').value = null;
	   	         	document.getElementById('assignmentFormId:officerNameId').innerHTML = '';

   	            	document.getElementById('assignmentFormId:updateSectorAndDepsListButtonId').click();
               	} else if (m == 4) {
               		document.getElementById('assignmentFormId:officerNameId').innerHTML = ret[1]; 
               		document.getElementById('assignmentFormId:officerIdId').value = ret[0];
               		document.getElementById('assignmentFormId:officerNameHiddenId').value = ret[1];
                } else if (m==5)
    	  		{
    	  			document.getElementById('assignmentFormId:selectedUnitId').value = ret[0];
            		document.getElementById('assignmentFormId:selectedUnitNameId').value = ret[1];
                    document.getElementById('assignmentFormId:unitNameId').innerHTML = ret[1];

                    document.getElementById('assignmentFormId:officerIdId').value = null;
	   	            document.getElementById('assignmentFormId:officerNameHiddenId').value = null;
	   	         	document.getElementById('assignmentFormId:officerNameId').innerHTML = '';
                    document.getElementById('assignmentFormId:updateUnitBtnId').click();
    	  		}
   	         	return true;
	   		}
	   		return false;
    	}
    	
    	
    	 function validateEmpData(){
			var primPhoneId = document.getElementById("assignmentFormId:primaryPhoneId").value;
			var seconedPhoneId = document.getElementById("assignmentFormId:seconedPhoneId").value;
			var thirdPhoneId = document.getElementById("assignmentFormId:thirdPhoneId").value;
			var workNatureId = document.getElementById("assignmentFormId:workNatureId").value;
			var workScopeId = document.getElementById("assignmentFormId:workScopeId").value;
			if((primPhoneId == null || primPhoneId=="") &amp;&amp; (seconedPhoneId == null || seconedPhoneId=="") &amp;&amp; (thirdPhoneId == null || thirdPhoneId=="")){
				showErrorMessage('#{msgs.error_phoneMandatory}');
	            return false;
			}
			if(workNatureId == null || workNatureId=="") {
				showErrorMessage('#{msgs.error_workNatureMandatory}');
	            return false;
			}
			if(workScopeId == null || workScopeId=="") {
				showErrorMessage('#{msgs.error_workScopeMandatory}');
	            return false;
			}
	        PF('dlg').hide();
	        return true;
		}
		
     </script>

</h:head>
<h:body styleClass="screenBg">
	<h:form id="assignmentFormId" dir="#{msgs.dir}">
		<ui:decorate template="/Main/Template.xhtml">
			<table border="0" cellpadding="0" cellspacing="0" width="100%">


				<tr>
					<td class="screenTitle">
						<h:outputText value="#{employeeAssginment.screenTitle}" />
					</td>
				</tr>


				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_assginmentOrder}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="assignmentContainerId">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th>#{msgs.label_assignmentRequestNumber}</th>
									<td>
										<h:outputText value="#{employeeAssginment.assignmentData.requestNumber}" />

									</td>
									
									<th>#{msgs.label_assignmentRequestData}</th>
									<td>
										<util:advancedHijriDate disable="true" value="#{employeeAssginment.assignmentData.requestDate}" />
									</td>

								</tr>

								<tr>
									<th width="15%">
										#{msgs.label_regionHq}
										<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
										<h:commandButton rendered="#{not employeeAssginment.regionSelected and employeeAssginment.pageMode == 1}" value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getRegion('#{request.contextPath}',2);" title="#{msgs.label_addDepartment}" />
										<h:commandButton id="updateSectorAndDepsListButtonId" style="display : none ;" action="#{employeeAssginment.updateDepsList(employeeAssginment.assignmentData.regionId , null , null)}">
											<f:ajax execute="assignmentFormId:selectedRegionId assignmentFormId:selectedDepartmentId" render="assignmentFormId:assignmentOfficerButtonId assignmentFormId:sectorPaneId assignmentFormId:unitBtnPanelId"></f:ajax>
										</h:commandButton>
									</th>
									<td width="20%">
										<h:inputHidden id="selectedRegionId" value="#{employeeAssginment.assignmentData.regionId}" />
										<h:inputHidden id="selectedRegionNameId" value="#{employeeAssginment.assignmentData.regionName}" />
										<h:outputText id="regionNameId" value="#{employeeAssginment.assignmentData.regionName}" />
									</td>
									
									<th width="15%">
										<h:panelGroup id="sectorPaneId">
											<h:outputText value="#{msgs.label_sector}" rendered="#{employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId}" />
											<h:outputText rendered="#{employeeAssginment.pageMode == 1 and employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId}" value="*" style="color:red;" />
											<h:commandButton id="sectorButtonId" disabled="#{empty employeeAssginment.assignmentData.regionId}" rendered="#{not employeeAssginment.sectorSelected and employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId and employeeAssginment.pageMode == 1}" value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getDepartment('#{request.contextPath}');" title="#{msgs.label_addDepartment}" />
											<h:commandButton id="updateUnitButtonId" style="display : none ;" action="#{employeeAssginment.updateDepsList(employeeAssginment.assignmentData.regionId , employeeAssginment.assignmentData.sectorId , null)}">
												<f:ajax execute="assignmentFormId:selectedDepartmentId assignmentFormId:unitBtnId assignmentFormId:assignmentOfficerButtonId  assignmentFormId:unitPanelId" render="assignmentFormId:unitBtnId assignmentFormId:assignmentOfficerButtonId  assignmentFormId:unitPanelId"></f:ajax>
											</h:commandButton>
										</h:panelGroup>
									</th>
									<td width="20%">
										<h:inputHidden id="selectedDepartmentId" value="#{employeeAssginment.assignmentData.sectorId}" />
										<h:inputHidden id="selectedDepartmentNameId" value="#{employeeAssginment.assignmentData.sectorName}" />
										<h:outputText id="departmentNameId" value="#{employeeAssginment.assignmentData.sectorName}" />
									</td>

								</tr>

								<tr>
									<th width="15%">
									<h:panelGroup id="unitBtnPanelId">
										<h:outputText value="#{msgs.label_unit}" rendered="#{employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId}" />
										<h:commandButton id="unitBtnId" disabled="#{empty employeeAssginment.assignmentData.sectorId}" rendered="#{not employeeAssginment.sectorSelected and employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId and employeeAssginment.pageMode == 1}" value="&#xf002;" styleClass="btn btn-trans-icon" onclick="return getUnit('#{request.contextPath}','#{employeeAssginment.assignmentData.sectorId}');" title="#{msgs.label_addUnit}" />
										<h:commandButton id = "updateUnitBtnId" style="display : none ;" action="#{employeeAssginment.updateDepsList(null , null , employeeAssginment.assignmentData.unitId)}" >
										<f:ajax execute = "@form" render = "assignmentFormId:assignmentOfficerButtonId"></f:ajax>
										</h:commandButton>
										</h:panelGroup>
									</th>
									<td width="20%">
										<h:panelGroup id="unitPanelId">
											<h:inputHidden id="selectedUnitId" value="#{employeeAssginment.assignmentData.unitId}" />
											<h:inputHidden id="selectedUnitNameId" value="#{employeeAssginment.assignmentData.unitName}" />
											<h:outputText id="unitNameId" value="#{employeeAssginment.assignmentData.unitName}" />
										</h:panelGroup>
									</td>
									
									<th width="15%">
										#{msgs.label_assignmentOfficer}
										<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
										<h:commandButton id="assignmentOfficerButtonId" disabled="#{employeeAssginment.depsList == null || (empty employeeAssginment.assignmentData.sectorId and employeeAssginment.assignmentData.regionId != employeeAssginment.headQuarterId)}" onclick="return getEmployee('#{request.contextPath}', 4, '#{employeeAssginment.depsList}');" value="&#xf002;" styleClass="btn btn-trans-icon" rendered="#{employeeAssginment.pageMode == 1 or employeeAssginment.editprivilege}" />
									</th>
									<td width="20%">
										<h:outputText id="officerNameId" value="#{employeeAssginment.assignmentData.officerName}" />
										<h:inputHidden id="officerIdId" value="#{employeeAssginment.assignmentData.officerId}" />
										<h:inputHidden id="officerNameHiddenId" value="#{employeeAssginment.assignmentData.officerName}" />
									</td>
								</tr>

								<tr>
									<th>
										#{msgs.label_assignmentStartDate}
										<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
									</th>
									<td>
										<util:advancedHijriDate disable="#{employeeAssginment.pageMode != 1}" value="#{employeeAssginment.assignmentData.startDate}" />
									</td>
									

									<th>#{msgs.label_assignmentPeriod}</th>
									<td>
										<h:selectOneMenu disabled="#{employeeAssginment.pageMode != 1}" styleClass="selectMenuWithIcon" value="#{employeeAssginment.assignmentData.period}">
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
											<f:selectItem itemValue="11" itemLabel="11" />
											<f:selectItem itemValue="12" itemLabel="12" />
										</h:selectOneMenu>
										#{msgs.label_month}
									</td>

								</tr>

								<tr>
									<td colspan="8">
										<p:selectCheckboxMenu label="#{msgs.label_assignmentReasons}" rendered="#{employeeAssginment.pageMode == 1}" value="#{employeeAssginment.assignmentSelectedReasonsList}" filter="true" filterMatchMode="startsWith" styleClass="btn btn_normal">
											<f:selectItems value="#{employeeAssginment.assignmentReasonsList}" var="reason" itemLabel="#{reason}" itemValue="#{reason}" />
										</p:selectCheckboxMenu>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="assignmentDetailsPaneId">
							<table width="100%">
								<tr>
									<td colspan="2">
										<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
											<tr>
												<td>
													<h:outputText value="#{msgs.label_assignmentEmployeesDetails}" />
												</td>
											</tr>
										</table>
									</td>
								</tr>

								<tr>
									<td>
										<table width="100%" border="0" cellpadding="0" cellspacing="0">
											<tr>
												<td height="15"></td>
											</tr>

											<tr>
												<td width="100%">
													<h:inputHidden id="selectedEmployeeId" value="#{employeeAssginment.selectedEmpId}" />
													<h:commandButton id="insertNewRecord" style="display:none;" action="#{employeeAssginment.addAssignmentDetailData()}">
														<f:ajax execute="assignmentFormId:assignmentDetailsPaneId assignmentFormId:assignmentContainerId" render="assignmentFormId:assignmentTableId">
														</f:ajax>
													</h:commandButton>
													<h:commandButton class="btn btn-warning" onclick="return getEmployee('#{request.contextPath}', 2, null);" value="#{msgs.label_addEmployee}" rendered="#{employeeAssginment.pageMode == 1}" />
												</td>
											</tr>
											<tr>
												<td height="15"></td>
											</tr>
										</table>
									</td>
								</tr>

								<tr>
									<td>
										<table width="100%">
											<tr>
												<td>
													<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" id="assignmentTableId" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="assignmentDetailRow" value="#{employeeAssginment.assignmentDetailsDataList}" rowHover="true">
														<p:column styleClass='centerText'>
															<f:facet name="header">
																#
															</f:facet>
					                                    	#{index + 1}
				                                   		</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header">
																#{msgs.label_name}
															</f:facet>
															<h:outputText value="#{assignmentDetailRow.fullName}" />
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header">
																#{msgs.label_socialNumber}
															</f:facet>
															<h:outputText value="#{assignmentDetailRow.identity}" />
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_rank}
															</f:facet>
															<h:outputText value="#{assignmentDetailRow.rank}" />
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_unit}
															</f:facet>
															<h:outputText value="#{assignmentDetailRow.workPlace}" />
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_agentCode}
															</f:facet>
															<h:outputText value="#{assignmentDetailRow.agentCode}" />
														</p:column>

														<p:column styleClass='centerText' rendered="#{not employeeAssginment.editprivilege}">
															<f:facet name="header"> 
																#{msgs.label_changAgentCode}
															</f:facet>
															<h:selectBooleanCheckbox value="#{assignmentDetailRow.changeAgentCode}" rendered="#{not empty assignmentDetailRow.agentCode and (employeeAssginment.reAssigned or employeeAssginment.reChangeCode)}" />
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_assignmentReasons}
																<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
															</f:facet>
															<p:selectCheckboxMenu value="#{assignmentDetailRow.reasonsList}" label="#{msgs.label_reasons}" filter="true" filterMatchMode="startsWith" styleClass="btn btn_normal">
																<f:selectItems itemDisabled="#{employeeAssginment.pageMode != 1}" value="#{employeeAssginment.assignmentReasonsList}" var="reason" itemLabel="#{reason}" itemValue="#{reason}" />
															</p:selectCheckboxMenu>
														</p:column>

														<p:column styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_extraInformation}
																<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
															</f:facet>
															<h:commandButton value="&#xf14b;" styleClass="btn btn-trans-icon" title="#{msgs.label_extraInformation}" action="#{employeeAssginment.editSelectedRow(assignmentDetailRow)}">
																<f:ajax render="assignmentFormId:dlgPanelId" onevent="function(e){if(e.status == 'success') PF('dlg').show();}" />
															</h:commandButton>
														</p:column>

														<p:column rendered="#{employeeAssginment.pageMode == 4 || employeeAssginment.pageMode == 5 }" styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_InfoAnalysisDetails}
															</f:facet>
															<h:commandButton value="#{msgs.label_InfoAnalysisDetails}" onclick="return employeeInfoSysDetails('#{request.contextPath}', #{assignmentDetailRow.identity});">
																<f:ajax />
															</h:commandButton>
															<h:commandButton id="notesPrintDetailsBtnId" value="&#xf02f;" styleClass="btn btn-trans-icon" action="#{employeeAssginment.printEmployeeDetails(assignmentDetailRow.employeeId)}" />
														</p:column>

														<p:column rendered="#{employeeAssginment.pageMode == 4 || employeeAssginment.pageMode == 5 || employeeAssginment.pageMode == 6 || employeeAssginment.role == 'Notification' || employeeAssginment.role == 'History'}" styleClass='centerText'>
															<f:facet name="header"> 
																#{msgs.label_eliminate}
															</f:facet>
															<h:selectBooleanCheckbox disabled="#{employeeAssginment.pageMode != 4 and employeeAssginment.pageMode != 5}" value="#{assignmentDetailRow.eliminated}" />
														</p:column>

														<p:column rendered="#{employeeAssginment.pageMode == 1 and not assignmentDetailRow.selected}" styleClass='centerText'>
															<f:facet name="header">
																<h:outputText value="#{msgs.label_delete}" />
															</f:facet>
															<h:commandButton disabled="#{employeeAssginment.pageMode != 1}" value="&#xf00d;" styleClass="btn btn-trans-icon" action="#{employeeAssginment.deleteAssignmentDetail(assignmentDetailRow)}" onclick="return confirm('#{msgs.q_delete}');">
																<f:ajax render="assignmentFormId:notifyMessagesId assignmentFormId:assignmentDetailsPaneId">
																</f:ajax>
															</h:commandButton>
														</p:column>

													</p:dataTable>
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup rendered="#{employeeAssginment.pageMode != 1 and employeeAssginment.pageMode != 2 and employeeAssginment.pageMode !=10}">
							<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td>
										<h:outputText value="#{msgs.label_decisions}" />
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup rendered="#{employeeAssginment.pageMode != 1 and employeeAssginment.pageMode != 2  and employeeAssginment.pageMode !=10 and employeeAssginment.role != 'Notification' and employeeAssginment.role !='History'}">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th>
										<h:outputText value="#{msgs.label_comment}" />
									</th>
									<td>
										<h:inputTextarea onkeypress="return valdiateMaxLength(this, 255);" onblur="return isValdiateMaxLength(this, 255);" rendered="#{employeeAssginment.pageMode != 1 and employeeAssginment.pageMode != 2 and employeeAssginment.role != 'Notification' and employeeAssginment.role !='History'}" styleClass="form-control" id="remarksId" rows="4" cols="50" value="#{employeeAssginment.remarks}" />
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td width="100%">
						<code:prevTasks rendered="#{not empty employeeAssginment.currentTask}" value="#{employeeAssginment.prevTasks}" />
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td width="100%">
									<h:commandButton styleClass="btn btn-default" id="printBtn" value="&#xf02f; #{msgs.label_print}" action="#{employeeAssginment.print()}" rendered="#{not empty employeeAssginment.assignmentData.id}">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{ ( employeeAssginment.pageMode == 3 or employeeAssginment.pageMode == 5 ) and employeeAssginment.role != 'Notification' and employeeAssginment.currentTask != null and employeeAssginment.role != 'History'}" class="btn btn-danger" value="#{msgs.label_reject}" action="#{employeeAssginment.doReject()}" onclick="return confirm('#{msgs.q_reject}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{employeeAssginment.pageMode == 1}" class="btn btn-success" value="&#xf1d8; #{msgs.label_saveAndSend}" action="#{employeeAssginment.saveAndSend()}" onclick="return confirm('#{msgs.q_confirm}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{employeeAssginment.pageMode == 4 and employeeAssginment.role != 'History'}" class="btn btn-success" value="&#xf1d8; #{msgs.label_saveAndSend}" action="#{employeeAssginment.saveAndSendAnalysis()}" onclick="return confirm('#{msgs.q_confirm}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{ (employeeAssginment.pageMode == 3 or employeeAssginment.pageMode == 5 ) and employeeAssginment.role != 'Notification' and employeeAssginment.currentTask != null and employeeAssginment.role != 'History'}" class="btn btn-success" value="#{msgs.label_approve}" action="#{employeeAssginment.doApprove()}" onclick="return confirm('#{msgs.q_approve}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{ (employeeAssginment.pageMode == 6 ) and employeeAssginment.currentTask != null and employeeAssginment.role != 'History'}" class="btn btn-success" value="&#xf02f; #{msgs.label_printAssignmentLetter}" action="#{employeeAssginment.printLetter()}">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{((employeeAssginment.pageMode == 6 ) and employeeAssginment.currentTask != null and employeeAssginment.role != 'History') or (employeeAssginment.pageMode == 2 and employeeAssginment.role == 'Notification' and employeeAssginment.currentTask != null and employeeAssginment.role != 'History')}" class="btn btn-success" value="#{msgs.label_notified}" action="#{employeeAssginment.doNotified()}">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{employeeAssginment.pageMode == 2 and employeeAssginment.reChangeCode}" class="btn btn-success" value="#{msgs.label_save}" action="#{employeeAssginment.saveChanges()}" onclick="return confirm('#{msgs.q_save}');">
									</h:commandButton>
								</td>
								<td width="100%">
									<h:commandButton rendered="#{employeeAssginment.editprivilege and not empty employeeAssginment.assignmentData.id}" class="btn btn-success" value="#{msgs.label_save}" action="#{employeeAssginment.saveAssignmentChange()}" onclick="return confirm('#{msgs.q_save}');">
									</h:commandButton>
								</td>
							</tr>
						</table>
					</td>
				</tr>

			</table>

			<h:panelGroup id="dlgPanelId">
				<p:dialog dir="#{msgs.dir}" header="#{msgs.label_extraInformation}" id="dlgId" widgetVar="dlg" modal="true">
					<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
						<tr>
							<th width="15%">#{msgs.label_assignmentPeriod}</th>
							<td width="25%">
								<h:selectOneMenu disabled="#{employeeAssginment.pageMode != 1}" styleClass="selectMenuWithIcon" value="#{employeeAssginment.rowAssignPeriodMonth}">
									<f:selectItem itemValue="1" itemLabel="1" />
									<f:selectItem itemValue="2" itemLabel="2" />
									<f:selectItem itemValue="3" itemLabel="3" />
									<f:selectItem itemValue="4" itemLabel="4" />
									<f:selectItem itemValue="5" itemLabel="5" />
									<f:selectItem itemValue="6" itemLabel="6" />
									<f:selectItem itemValue="7" itemLabel="7" />
									<f:selectItem itemValue="8" itemLabel="8" />
									<f:selectItem itemValue="9" itemLabel="9" />
									<f:selectItem itemValue="10" itemLabel="10" />
									<f:selectItem itemValue="11" itemLabel="11" />
									<f:selectItem itemValue="12" itemLabel="12" />
								</h:selectOneMenu>
								#{msgs.label_month}
							</td>
							<th width="15%">
								#{msgs.label_assignmentStartDate}
								<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
							</th>
							<td width="25%">
								<util:advancedHijriDate disable="#{employeeAssginment.pageMode != 1}" value="#{employeeAssginment.rowAssignStartDate}" />
							</td>
						</tr>

						<tr>
							<th>
								#{msgs.label_phoneNumbers}
								<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
							</th>
							<td width="25%">
								<h:inputText id="primaryPhoneId" maxlength="15" onblur="return isPhoneNumber(this)" onkeypress="return checkPhoneNumber(event);" disabled="#{employeeAssginment.pageMode != 1}" styleClass="form-control" value="#{employeeAssginment.rowAssignPhoneNumberPrimary}" />
								<h:inputText id="seconedPhoneId" maxlength="15" onblur="return isPhoneNumber(this)" onkeypress="return checkPhoneNumber(event);" disabled="#{employeeAssginment.pageMode != 1}" styleClass="form-control" value="#{employeeAssginment.rowAssignPhoneNumberSecondary}" />
								<h:inputText id="thirdPhoneId" maxlength="15" onblur="return isPhoneNumber(this)" onkeypress="return checkPhoneNumber(event);" disabled="#{employeeAssginment.pageMode != 1}" styleClass="form-control" value="#{employeeAssginment.rowAssignPhoneNumberTrinary}" />
							</td>
							<td colspan="5"></td>
						</tr>

						<tr>
							<th>
								#{msgs.label_workNature}
								<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
							</th>

							<td width='25%'>
								<h:inputTextarea id="workNatureId" onkeypress="return valdiateMaxLength(this, 255);" onblur="return isValdiateMaxLength(this, 255);" disabled="#{employeeAssginment.pageMode != 1}" styleClass="form-control" rows="4" cols="50" value="#{employeeAssginment.rowAssignWorkNature}">
								</h:inputTextarea>
							</td>
							<td colspan="5"></td>


						</tr>

						<tr>
							<th>
								#{msgs.label_workScope}
								<h:outputText rendered="#{employeeAssginment.pageMode == 1}" value="*" style="color:red;" />
							</th>
							<td>
								<h:inputTextarea id="workScopeId" onkeypress="return valdiateMaxLength(this, 255);" onblur="return isValdiateMaxLength(this, 255);" disabled="#{employeeAssginment.pageMode != 1}" styleClass="form-control" rows="4" cols="50" value="#{employeeAssginment.rowAssignWorkScope}">
								</h:inputTextarea>
							</td>
							<td colspan="5"></td>
						</tr>
					</table>
					<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
						<tr>
							<td height="10px"></td>
						</tr>
						<tr>
							<td width="100%">
								<h:commandButton rendered="#{employeeAssginment.pageMode == 1}" styleClass="btn btn-danger" value="&#xf00d; #{msgs.label_cancel}" onclick="PF('dlg').hide(); return false;">
								</h:commandButton>
							</td>

							<td width="100%">
								<h:commandButton rendered="#{employeeAssginment.pageMode != 1}" styleClass="btn btn-danger" value="&#xf00d; #{msgs.label_close}" onclick="PF('dlg').hide(); return false;">
								</h:commandButton>
							</td>

							<td width="100%">
								<h:commandButton rendered="#{employeeAssginment.pageMode == 1}" action="#{employeeAssginment.saveSelectedRowChanges()}" styleClass="btn btn-success" value="&#xf0c7; #{msgs.label_save}" onclick="return validateEmpData();">
									<f:ajax execute="assignmentFormId:dlgId" render="assignmentFormId:notifyMessagesId" />
								</h:commandButton>
							</td>
						</tr>
					</table>
				</p:dialog>
			</h:panelGroup>

		</ui:decorate>
	</h:form>
</h:body>
</html>