<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:util="http://java.sun.com/jsf/composite/util" xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="styles.css" />
	<h:outputStylesheet library="css" name="grid.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />

	<h:outputScript name="utilities.js" library="javascript" target="head" />
	<script type="text/javascript">
		
	</script>
</h:head>
<h:body styleClass="screenBg">
	<h:form id="formId" dir="#{msgs.dir}">
		<ui:decorate template="/Main/Template.xhtml">
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td class="screenTitle">#{msgs.title_hcmDrugAnalysisTask}</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_employeeData}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_name}" />
								</th>
								<td width="">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeFullName}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_rank}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeRank}" />
								</td>
							</tr>
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_unit}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeDepartmentName}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_militaryNumber}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeMilitaryNumber}" />
								</td>
							</tr>
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_job}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeRank}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_socialId}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.employeeSocialId}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_lastDrugAnalysisResult}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_orderNo}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheck.orderNumber}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_orderDate}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheck.orderDateString}" />
								</td>
							</tr>
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_orderIssueSite}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheck.orderSourceDomainDescription}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_checkReason}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheck.checkReason}" />
								</td>
							</tr>
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_comment}" />
								</th>
								<td colspan="3"></td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_medicalDepartmentCheckResult}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_sampleNumber}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.sampleNumber}" />
								</td>
								<th width="15%">
									<h:outputText value="#{msgs.label_sampleDate}" />
								</th>
								<td width="35%">
									<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.sampleDateString}" />
								</td>
							</tr>
							<tr>
								<th width="15%">
									<h:outputText value="#{msgs.label_checkResult}" />
								</th>
								<td width="35%">
									<h:outputText value="#{msgs.label_positiveUnderApprove}" rendered="#{not empty drugHcmDecision.labCheckEmployeeData.domainMaterialTypeId}" />
									<h:outputText value="#{msgs.label_negative}" rendered="#{ (empty drugHcmDecision.labCheckEmployeeData.nationalForceSampleNumber) and (drugHcmDecision.labCheckEmployeeData.checkStatus==drugHcmDecision.negativeCheckResult)}" />
								</td>
								<h:panelGroup rendered="#{not empty drugHcmDecision.labCheckEmployeeData.domainMaterialTypeId}">
									<th width="15%">
										<h:outputText value="#{msgs.label_metrialType}" />
									</th>
									<td width="35%">
										<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.domainMaterialTypeDescripttion}" />
									</td>
								</h:panelGroup>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<h:panelGroup rendered="#{ not ((empty drugHcmDecision.labCheckEmployeeData.nationalForceSampleNumber) and (drugHcmDecision.labCheckEmployeeData.checkStatus==drugHcmDecision.negativeCheckResult))}">
					<tr>
						<td colspan="2">
							<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td>
										<h:outputText value="#{msgs.label_nationaclForceCheck}" />
									</td>
								</tr>
							</table>
						</td>
					</tr>

					<tr>
						<td width="100%" height="5" />
					</tr>

					<tr>
						<td>
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th width="15%">
										<h:outputText value="#{msgs.label_sampleNumber}" />
									</th>
									<td width="35%">
										<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.nationalForceSampleNumber}" />
									</td>
									<th width="15%">
										<h:outputText value="#{msgs.label_sampleDate}" />
									</th>
									<td width="35%">
										<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.nationalForceSampleSentDateString}" />
									</td>
								</tr>

								<tr>
									<th width="15%">
										<h:outputText value="#{msgs.label_checkResult}" />
									</th>
									<td width="35%">
										<h:outputText value="#{msgs.label_negative}" rendered="#{drugHcmDecision.labCheckEmployeeData.checkStatus == drugHcmDecision.negativeCheckResult}" />
										<h:outputText value="#{msgs.label_positive}" rendered="#{drugHcmDecision.labCheckEmployeeData.checkStatus == drugHcmDecision.positiveCheckResult}" />
									</td>
									<td colspan="2">
										<h:panelGroup rendered="#{drugHcmDecision.labCheckEmployeeData.checkStatus == drugHcmDecision.positiveCheckResult}">
											<table width="100%">
												<tr>
													<th width="30%">
														<h:outputText value="#{msgs.label_metrialType}" />
													</th>
													<td>
														<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.domainNationalForceMaterialTypeDesc}" />
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
								</tr>

								<tr>
									<td colspan="4">
										<h:panelGroup rendered="#{drugHcmDecision.labCheckEmployeeData.checkStatus == drugHcmDecision.positiveCheckResult}">
											<table width="100%">
												<tr>
													<td width="50%">
														<h:selectBooleanCheckbox value="#{drugHcmDecision.labCheckEmployeeData.curement}" disabled="true" />
														<h:outputText value="#{msgs.label_transferForCurment}" />
													</td>
													<td width="50%">
														<h:panelGroup rendered="#{drugHcmDecision.labCheckEmployeeData.curement}">
															<table width="100%">
																<tr>
																	<th width="30%">
																		<h:outputText value="#{msgs.label_hospital}" />
																	</th>
																	<td>
																		<h:outputText value="#{drugHcmDecision.labCheckEmployeeData.domainCureHospitalDesc}" />
																	</td>
																</tr>
															</table>
														</h:panelGroup>
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
								</tr>

								<tr>
									<td colspan="4">
										<h:panelGroup rendered="#{drugHcmDecision.labCheckEmployeeData.checkStatus == drugHcmDecision.positiveCheckResult}">
											<table width="100%">
												<tr>
													<th width="15%">
														<h:outputText value="#{msgs.label_retestPeriod}" />
													</th>
													<td>
														<h:outputText value="#{drugHcmDecision.retestMonthNumber}" />
														<h:outputText value="#{msgs.label_month}" />
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
								</tr>

							</table>
						</td>
					</tr>

					<tr>
						<td width="100%" height="5" />
					</tr>
				</h:panelGroup>

				<tr>
					<td width="100%">
						<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:commandButton rendered="#{drugHcmDecision.currentTask.action == null}" styleClass="btn btn-success" value="#{msgs.label_takeOldResult}" action="#{drugHcmDecision.takeOldResult()}" />
									<h:commandButton rendered="#{drugHcmDecision.currentTask.action == null}" styleClass="btn btn-success" value="#{msgs.label_craeteNewApprovedOrder}" action="#{drugHcmDecision.createNewApprovedOrder()}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</ui:decorate>
	</h:form>
</h:body>
</html>