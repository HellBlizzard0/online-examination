<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RegionInformationReport" pageWidth="850" pageHeight="900" whenNoDataType="AllSectionsNoDetail" columnWidth="810" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="66244e2c-e31d-4460-b1f9-81a03aed4391">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#C3CFD9">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#E6F3FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Table Dataset 1" uuid="0c47bbd3-7d02-48d8-9489-6518de8d9033"/>
	<parameter name="P_INFO_ID" class="java.math.BigDecimal"/>
	<parameter name="P_SCHEMA_NAME" class="java.lang.String">
		<defaultValueExpression><![CDATA["INFOSYS"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT ( CASE ENTITY.DOMAINS_ID WHEN NULL THEN (CASE ENTITY.STP_VW_DEPARTMENTS_ID WHEN NULL THEN CNT.ARABIC_NAME ELSE DEP.ARABIC_NAME END) ELSE DOM.DESCRIPTION END) AS NAME ,
       (CASE ENTITY.DOMAINS_ID WHEN NULL THEN (CASE ENTITY.STP_VW_DEPARTMENTS_ID WHEN NULL THEN 'دولة' ELSE 'ادارة'END) ELSE 'جهة' END) AS TYPE
FROM  $P!{P_SCHEMA_NAME}.FIS_INFO_RELATED_ENTITIES ENTITY
      LEFT OUTER JOIN $P!{P_SCHEMA_NAME}.FIS_DOMAINS DOM ON DOM.ID= ENTITY.DOMAINS_ID
      LEFT OUTER JOIN $P!{P_SCHEMA_NAME}.STP_VW_DEPARTMENTS DEP ON DEP.ID = ENTITY.STP_VW_DEPARTMENTS_ID
      LEFT OUTER JOIN $P!{P_SCHEMA_NAME}.STP_VW_COUNTRIES CNT ON CNT.ID = ENTITY.STP_VW_COUNTIRES_ID
WHERE ENTITY.INFORMATION_ID = $P{P_INFO_ID}
AND ENTITY.NON_EMPLOYEES_ID IS NULL
AND ENTITY.STP_VW_EMPLOYEES_ID IS NULL
UNION
SELECT PH.PHONE_NUMBER AS NAME  , 'تليفون' AS TYPE
FROM $P!{P_SCHEMA_NAME}.FIS_INFO_PHONES PH
WHERE PH.INFORMATION_ID = $P{P_INFO_ID}]]>
	</queryString>
	<field name="NAME" class="java.lang.String"/>
	<field name="TYPE" class="java.lang.String"/>
	<variable name="TABLE_INDEX" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$V{REPORT_COUNT}]]></variableExpression>
		<initialValueExpression><![CDATA[1]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement mode="Opaque" x="764" y="0" width="27" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="0b5efefc-1d5e-44d0-a653-40c8badaecd7"/>
				<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="0">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[#]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="538" y="0" width="226" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="80bab6f5-6a77-4d60-b6f6-11084badd69b"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[النوع]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="538" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="c3ecdccd-c784-46c5-bf96-0cecf88ff822"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[الاسم/الرقم
]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="764" y="0" width="27" height="20" forecolor="#000000" backcolor="#FFFFFF" uuid="5aa79d9d-ce36-4ad4-ab2b-df6501810bff"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{TABLE_INDEX}]]></textFieldExpression>
			</textField>
			<elementGroup/>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="538" y="0" width="226" height="20" forecolor="#000000" backcolor="#FFFFFF" uuid="0bbf46fc-3575-498d-a8a5-5866e0c86e0f"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{TYPE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="0" y="0" width="538" height="20" forecolor="#000000" backcolor="#FFFFFF" uuid="9d1193ef-8980-4ede-aedf-3acb9899242e"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NAME}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
