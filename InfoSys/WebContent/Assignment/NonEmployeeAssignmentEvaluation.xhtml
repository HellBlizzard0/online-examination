<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:code="http://java.sun.com/jsf/composite/code" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:util="http://java.sun.com/jsf/composite/util">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<h:outputStylesheet library="css" name="styles.css" />
	<h:outputStylesheet library="css" name="grid.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />

	<h:outputScript name="utilities.js" library="javascript" target="head" />
	<script type="text/javascript">
		function checkNumber(inputText){
			if(inputText.value > 100){
				inputText.value = 0;
			}
			return true;
		}
	</script>
</h:head>
<h:body styleClass="screenBg">
	<h:form id="assignEvalFormId" dir="#{msgs.dir}">
		<ui:decorate template="/Main/Template.xhtml">
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td class="screenTitle">
						<h:outputText value="#{nonEmployeeAssignmentEvaluation.screenTitle}" />
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="assignmentContainerId" rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and !nonEmployeeAssignmentEvaluation.role.equals('Notification')}">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<th width="15%">#{msgs.label_agentCode}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.agentCode}" />
									</td>
									
									<th width="15%">#{msgs.label_identity}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.identity}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_name}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.fullName}" />
									</td>
									
									<th width="15%">#{msgs.label_birthDate}</th>
									<td width="20%">
										<util:advancedHijriDate disable="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.birthDate}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_phoneNumbers}</th>
									<td width="20%" colspan="1">
										<h:inputText styleClass="form-control" disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.primaryPhone}" />
										<h:inputText styleClass="form-control" disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.secondaryPhone}" />
										<h:inputText styleClass="form-control" disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.ternaryPhone}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_nationality}</th>
									<td width="20%">
										<h:outputText id="countryNameId" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.countryName}" />
									</td>
									
									<th width="15%">#{msgs.label_workPlace}</th>

									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.workPlace}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_assignmentType}</th>
									<td width="20%">
										<h:selectOneMenu disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.type}" styleClass="form-control">
											<f:selectItem itemLabel="#{msgs.label_assignment}" itemValue="#{nonEmployeeAssignmentEvaluation.assignment}" />
											<f:selectItem itemLabel="#{msgs.label_cooperator}" itemValue="#{nonEmployeeAssignmentEvaluation.cooperetor}" />
										</h:selectOneMenu>
									</td>
									
									<td colspan="5">
										<h:selectOneRadio disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.agentType}">
											<f:selectItem itemValue="0" itemLabel="#{msgs.label_military}" />
											<f:selectItem itemValue="1" itemLabel="#{msgs.label_civil}" />
										</h:selectOneRadio>
									</td>
								</tr>

								<tr>
									<td colspan="5">
										<h:selectOneRadio disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.location}">
											<f:selectItem itemValue="0" itemLabel="#{msgs.label_outside}" />
											<f:selectItem itemValue="1" itemLabel="#{msgs.label_inside}" />
										</h:selectOneRadio>
									</td>
								</tr>

								<tr>
									<td colspan="5">
										<h:panelGroup id="paymentPanelId" rendered="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.type == nonEmployeeAssignmentEvaluation.assignment}">
											<table style="width: 100%;">
												<tr>
													<th width="15%">#{msgs.label_agentClass}</th>
													<td width="20%">
														<h:selectOneMenu styleClass="form-control" disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.agentClass}">
															<f:selectItems value="#{nonEmployeeAssignmentEvaluation.assignmentAgentClassesList}" var="class" itemValue="#{class.code}" itemLabel="#{class.code}" />
														</h:selectOneMenu>
													</td>
													
													<th width="15%">#{msgs.label_monthlyReward}</th>
													<td width="20%">
														<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.monthlyReward}" />
														#{msgs.label_riyal}
													</td>
												</tr>

												<tr>
													<th width="15%">#{msgs.label_paymentMethod}</th>
													<td width="20%">
														<h:selectOneMenu styleClass="form-control" disabled="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.paymentMethod}">
															<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.bankAccountEnum}" itemLabel="#{msgs.label_bankAccount}" />
															<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.chequeAcountEnum}" itemLabel="#{msgs.label_cheque}" />
															<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.cashAccountEnum}" itemLabel="#{msgs.label_cash}" />
														</h:selectOneMenu>
													</td>
													


													<td colspan="2">
														<h:panelGroup id="paymentMethodId" rendered="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.paymentMethod == nonEmployeeAssignmentEvaluation.bankAccountEnum}">
															<table>
																<tr>
																	<th width="15%">
																		<h:outputText value="#{msgs.label_bankAccount}" />
																	</th>
																	<td width="20%">
																		<h:selectOneMenu disabled="true" styleClass="form-control" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.bankBranchId}">
																			<f:selectItems value="#{nonEmployeeAssignmentEvaluation.bankBranchesDataList}" var="bank" itemValue="#{bank.id}" itemLabel="#{bank.name}" />
																		</h:selectOneMenu>
																		<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.iban}" />
																		SA
																	</td>
																</tr>
															</table>
														</h:panelGroup>
													</td>
												</tr>
											</table>
										</h:panelGroup>
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_assignmentRequestNumber}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.requestNumber}" />
									</td>
									<td width="15%" />
									<th width="15%">#{msgs.label_assignmentRequestData}</th>
									<td width="20%">
										<util:advancedHijriDate disable="true" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.requestDate}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_region}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.regionName}" />
									</td>
									<td width="15%" />
									<th width="15%">#{msgs.label_sector}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.sectorName}" />
									</td>
								</tr>

								<tr>
									<th width="15%">#{msgs.label_assignmentOfficer}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.officerName}" />
									</td>
									<td width="15%" />
									<td width="15%" />
									<td width="20%" />
								</tr>
								<tr>
									<th width="15%">#{msgs.label_workScope}</th>
									<td width="20%">
										<h:inputTextarea onkeypress="return valdiateMaxLength(this, 255);" onblur="return isValdiateMaxLength(this, 255);" styleClass="form-control" disabled="true" rows="3" cols="50" value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.workScope}">
										</h:inputTextarea>
									</td>
									<td width="15%" />
									<td width="15%" />
									<td width="20%" />
								</tr>
								<tr>
									<th width="15%">#{msgs.label_assignmentNonEmpStartDate}</th>
									<td width="15%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.startDateString}" />
									</td>
									<td width="15%" />
									<th width="15%">#{msgs.label_assignmentNonEmpPeriod}</th>
									<td width="20%">
										<h:outputText value="#{nonEmployeeAssignmentEvaluation.assignmentDetailData.period}" />
										#{msgs.label_month}
									</td>
								</tr>

								<tr>
									<td colspan="3">
										<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
											<tr>
												<td width="100%">
													<h:commandButton style="width:30%" rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and !nonEmployeeAssignmentEvaluation.role.equals('Notification')}" action="#{nonEmployeeAssignmentEvaluation.getInfoDetails()}" styleClass="btn btn-default" value="#{msgs.label_assignmentInfoDetails}">
														<f:ajax render="assignEvalFormId:notifyMessagesId assignEvalFormId:dlgInfoId" onevent="function(e){if(e.status == 'success') PF('dlgInfo').show();}" />
													</h:commandButton>
													<h:commandButton style="width:30%" rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and !nonEmployeeAssignmentEvaluation.role.equals('Notification')}" action="#{nonEmployeeAssignmentEvaluation.getAssignDetails()}" styleClass="btn btn-default" value="#{msgs.label_assignmentsNonEmpPrevRecords}">
														<f:ajax render="assignEvalFormId:notifyMessagesId assignEvalFormId:dlgAssignId" onevent="function(e){if(e.status == 'success') PF('dlgAssign').show();}" />
													</h:commandButton>
													<h:commandButton style="width:30%" rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and !nonEmployeeAssignmentEvaluation.role.equals('Notification')}" action="#{nonEmployeeAssignmentEvaluation.getEvalDetails()}" styleClass="btn btn-default" value="#{msgs.label_assignmentEvalRecords}">
														<f:ajax render="assignEvalFormId:notifyMessagesId assignEvalFormId:dlgEvalId" onevent="function(e){if(e.status == 'success') PF('dlgEval').show();}" />
													</h:commandButton>
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_assignmentEvaluationDetails}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td>
						<p:dataTable id="employeeAssignmentEvalTableId" tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="pointRow" value="#{nonEmployeeAssignmentEvaluation.assignmentEvaluationPointDataList}" rowHover="true">
							<p:column styleClass='centerText'>
								<f:facet name="header">
									#
								</f:facet>
                               	#{index + 1}
                       		</p:column>

							<p:column styleClass='centerText'>
								<f:facet name="header">
									#{msgs.label_assignmentEvaluationClass}
								</f:facet>
								<h:outputText value="#{pointRow.classDescription}" />
							</p:column>

							<p:column styleClass='centerText'>
								<f:facet name="header">
									#{msgs.label_assignmentEvaluationDomain}
								</f:facet>
								<h:outputText value="#{pointRow.domainDescription}" />
							</p:column>

							<p:column styleClass='centerText'>
								<f:facet name="header"> 
									#{msgs.label_available}
								</f:facet>
								<h:selectBooleanCheckbox disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{pointRow.available}" />
								<f:facet name="footer">
									<h:outputText rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{msgs.label_overallPercentage}" />
								</f:facet>
							</p:column>

							<p:column styleClass='centerText'>
								<f:facet name="header"> 
									#{msgs.label_percent}
								</f:facet>
								<p:inputText style="width:20%" disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{pointRow.percent}" onblur="return checkNumber(this);" onkeypress="return checkDigit(event);" />  %
								<f:facet name="footer">
									<h:outputText rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{nonEmployeeAssignmentEvaluation.assignmentEvaluation.totalEvaluation}" />
									<h:outputText rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="%" />
								</f:facet>
							</p:column>
						</p:dataTable>
					</td>
				</tr>

				<tr>
					<td colspan="2">
						<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td>
									<h:outputText value="#{msgs.label_recommendation}" />
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td width="100%" height="10" />
				</tr>
				<tr>
					<td>
						<table width="50%">
							<tr>
								<td>
									<h:selectOneRadio rendered="#{not nonEmployeeAssignmentEvaluation.ended}" disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" id="selectOneRadioId" value="#{nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction}">
										<f:ajax event="change" execute="@this assignEvalFormId:continueToId" render="assignEvalFormId:continueToPeriodId assignEvalFormId:continueToId assignEvalFormId:endId" />
										<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.assignmentContinue}" itemLabel="#{msgs.label_assignmentContinueToEnd}" />
										<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.assignmentContinueTo}" itemLabel="#{msgs.label_assignmentContinue}" />
										<f:selectItem itemValue="#{nonEmployeeAssignmentEvaluation.assignmentEnd}" itemLabel="#{msgs.label_assignmentEnd}" />
									</h:selectOneRadio>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td width="100%" height="10" />
				</tr>

				<tr>
					<td>
						<table width="40%">
							<tr>
								<td>
									<h:panelGroup id="continueToPeriodId">
										<h:outputText rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo)}" value="#{msgs.label_for}" />
										<h:selectOneMenu disabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo)}" styleClass="selectMenuWith2Icon" value="#{nonEmployeeAssignmentEvaluation.assignmentEvaluation.extendPeriod}">
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
											<f:selectItem itemValue="11" itemLabel="11" />
											<f:selectItem itemValue="12" itemLabel="12" />
										</h:selectOneMenu>
										<h:outputText rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo)}" value="#{msgs.label_month}" />
									</h:panelGroup>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td width="100%" height="10" />
				</tr>

				<tr>
					<td>
						<h:panelGroup id="continueToId">
							<p:selectCheckboxMenu rendered="#{not nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentEnd)}" styleClass="btn btn_normal" value="#{nonEmployeeAssignmentEvaluation.continueEndSelectedReasonsList}" label="#{msgs.label_reasons}" filter="true" filterMatchMode="startsWith">
								<f:selectItems itemDisabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{nonEmployeeAssignmentEvaluation.continueReasonsList}" var="reason" itemLabel="#{reason}" itemValue="#{reason}" />
							</p:selectCheckboxMenu>
						</h:panelGroup>
						<h:panelGroup id="endId">
							<p:selectCheckboxMenu rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentEnd)}" styleClass="btn btn_normal" value="#{nonEmployeeAssignmentEvaluation.continueEndSelectedReasonsList}" label="#{msgs.label_reasons}" filter="true" filterMatchMode="startsWith">
								<f:selectItems itemDisabled="#{nonEmployeeAssignmentEvaluation.pageMode != 1}" value="#{nonEmployeeAssignmentEvaluation.endReasonsList}" var="reason" itemLabel="#{reason}" itemValue="#{reason}" />
							</p:selectCheckboxMenu>
						</h:panelGroup>
						<h:outputText value="*" style="color:red;" rendered="#{nonEmployeeAssignmentEvaluation.pageMode == 1}" />
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td colspan="2">
						<h:panelGroup rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role != 'Notification'}">
							<table class="sectionTitle" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td>
										<h:outputText value="#{msgs.label_decisions}" />
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<h:panelGroup
							rendered="#{(not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo)) or (not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.pageMode != 1 and  nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo) and !nonEmployeeAssignmentEvaluation.role.equals('History')) or (nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role != 'Notification' and nonEmployeeAssignmentEvaluation.role != 'History')}">
							<table class="sectionContent" border="0" cellpadding="0" cellspacing="0">
								<h:panelGroup rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo) }">
									<tr>
										<th>
											<h:outputText value="#{msgs.label_assignmentAgentContinueTo}" />
										</th>
										<td>
											<h:selectOneMenu id="approveExtendPeriodId" disabled="#{nonEmployeeAssignmentEvaluation.role.equals('Notification')}" styleClass="selectMenuWithIcon" value="#{nonEmployeeAssignmentEvaluation.assignmentEvaluation.approvedExtendPeriod}">
												<f:selectItem itemValue="1" itemLabel="1" />
												<f:selectItem itemValue="2" itemLabel="2" />
												<f:selectItem itemValue="3" itemLabel="3" />
												<f:selectItem itemValue="4" itemLabel="4" />
												<f:selectItem itemValue="5" itemLabel="5" />
												<f:selectItem itemValue="6" itemLabel="6" />
												<f:selectItem itemValue="7" itemLabel="7" />
												<f:selectItem itemValue="8" itemLabel="8" />
												<f:selectItem itemValue="9" itemLabel="9" />
												<f:selectItem itemValue="10" itemLabel="10" />
												<f:selectItem itemValue="11" itemLabel="11" />
												<f:selectItem itemValue="12" itemLabel="12" />
											</h:selectOneMenu>
											<h:outputText value="#{msgs.label_month}" />
										</td>
									</tr>
								</h:panelGroup>

								<h:panelGroup rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo) and !nonEmployeeAssignmentEvaluation.role.equals('History') }">
									<tr>
										<th>
											<h:outputText value="#{msgs.label_agentClass}" rendered="#{not nonEmployeeAssignmentEvaluation.ended and nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.assignmentEvaluation.evaluationAction.equals(nonEmployeeAssignmentEvaluation.assignmentContinueTo) and !nonEmployeeAssignmentEvaluation.role.equals('History') }" />
										</th>
										<td>
											<h:selectOneMenu styleClass="form-control" disabled="#{nonEmployeeAssignmentEvaluation.role.equals('Notification')}" value="#{nonEmployeeAssignmentEvaluation.currentTask.flexField1}">
												<f:selectItems value="#{nonEmployeeAssignmentEvaluation.assignmentAgentClassesList}" var="class" itemValue="#{class.code}" itemLabel="#{class.code}" />
												<f:ajax render="assignEvalFormId:monthlyRewardId" execute="@this" event="change" listener="#{nonEmployeeAssignmentEvaluation.changeMonthlyReward}"></f:ajax>
											</h:selectOneMenu>
										</td>
										<th>
											<h:outputText value="#{msgs.label_monthlyReward}" disabled="#{nonEmployeeAssignmentEvaluation.role.equals('Notification')}" />
										</th>
										<td>
											<h:outputText id="monthlyRewardId" disabled="#{nonEmployeeAssignmentEvaluation.role.equals('Notification')}" value="#{nonEmployeeAssignmentEvaluation.currentTask.flexField2 } " />
											<h:outputText value="#{msgs.label_riyal}" disabled="#{nonEmployeeAssignmentEvaluation.role.equals('Notification')}" />
										</td>
									</tr>
								</h:panelGroup>

								<h:panelGroup rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role != 'Notification' and nonEmployeeAssignmentEvaluation.role != 'History' }">
									<tr>
										<th>
											<h:outputText value="#{msgs.label_comment}" />
										</th>
										<td>
											<h:inputTextarea onkeypress="return valdiateMaxLength(this, 255);" onblur="return isValdiateMaxLength(this, 255);" id="remarksId" value="#{nonEmployeeAssignmentEvaluation.currentTask.notes}">
											</h:inputTextarea>
										</td>
									</tr>
								</h:panelGroup>
							</table>
						</h:panelGroup>
					</td>
				</tr>

				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td width="100%">
						<code:prevTasks rendered="#{not empty nonEmployeeAssignmentEvaluation.currentTask}" value="#{nonEmployeeAssignmentEvaluation.prevTasks}" />
					</td>
				</tr>


				<tr>
					<td width="100%" height="5" />
				</tr>

				<tr>
					<td>
						<table class="actionsSection" border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td width="100%">
									<h:commandButton styleClass="btn btn-default" id="printBtn" value="&#xf02f; #{msgs.label_print}" action="#{nonEmployeeAssignmentEvaluation.print()}" rendered="#{not empty nonEmployeeAssignmentEvaluation.assignmentEvaluation.id}">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role !='Notification' and nonEmployeeAssignmentEvaluation.role !='History'}" class="btn btn-danger" value="&#xf0c7; #{msgs.label_reject}" action="#{nonEmployeeAssignmentEvaluation.doReject()}" onclick="return confirm('#{msgs.q_reject}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{nonEmployeeAssignmentEvaluation.pageMode == 1}" class="btn btn-success" value="&#xf1d8; #{msgs.label_saveAndSend}" action="#{nonEmployeeAssignmentEvaluation.saveAndSend()}" onclick="return confirm('#{msgs.q_confirm}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role !='Notification' and nonEmployeeAssignmentEvaluation.role !='History'}" class="btn btn-success" value="&#xf00c; #{msgs.label_approve}" action="#{nonEmployeeAssignmentEvaluation.doApprove()}" onclick="return confirm('#{msgs.q_approve}');">
									</h:commandButton>
								</td>

								<td width="100%">
									<h:commandButton rendered="#{nonEmployeeAssignmentEvaluation.pageMode != 1 and nonEmployeeAssignmentEvaluation.role =='Notification'}" class="btn btn-success" value="#{msgs.label_notified}" action="#{nonEmployeeAssignmentEvaluation.doNotified()}">
									</h:commandButton>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>

			<p:dialog dir="#{msgs.dir}" header="#{msgs.label_assignmentInfoDetails}" id="dlgInfoId" widgetVar="dlgInfo" modal="true" height="300">
				<table width="100%">
					<tr>
						<td>
							<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="employeeInfoRow" value="#{nonEmployeeAssignmentEvaluation.employeeRelatedInfoList}" rowHover="true">
								<p:column styleClass='centerText'>
									<f:facet name="header">
											#
										</f:facet>
                                    	#{index + 1}
                                  		</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_infoNumber}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.infoNumber}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_infoReceiveDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.registerationDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header"> 
											#{msgs.label_infoNature}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.infoDetails}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header"> 
											#{msgs.label_subject}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.subjectDescription}" />
								</p:column>
							</p:dataTable>
						</td>
					</tr>
				</table>
			</p:dialog>

			<p:dialog dir="#{msgs.dir}" header="#{msgs.label_assignmentsNonEmpPrevRecords}" id="dlgAssignId" widgetVar="dlgAssign" modal="true" height="300">
				<table width="100%">
					<tr>
						<td>
							<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="employeeInfoRow" value="#{nonEmployeeAssignmentEvaluation.previousAssignmentsList}" rowHover="true">
								<p:column styleClass='centerText'>
									<f:facet name="header">
											#
										</f:facet>
                                    	#{index + 1}
                                  		</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_workStartDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.startDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_workEndDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.endDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header"> 
											#{msgs.label_workPeriod}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.period}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header"> 
											#{msgs.label_workScope}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.workScope}" />
								</p:column>
							</p:dataTable>
						</td>
					</tr>
				</table>
			</p:dialog>

			<p:dialog dir="#{msgs.dir}" header="#{msgs.label_assignmentEvalRecords}" id="dlgEvalId" widgetVar="dlgEval" modal="true" height="300">
				<table width="100%">
					<tr>
						<td>
							<p:dataTable tableStyle="table-layout:auto" reflow="true" liveResize="true" paginatorPosition="bottom" paginator="true" style="width:100%" rowIndexVar="index" rows="10" var="employeeInfoRow" value="#{nonEmployeeAssignmentEvaluation.previousEvaluationsList}" rowHover="true">
								<p:column styleClass='centerText'>
									<f:facet name="header">
											#
										</f:facet>
                                    	#{index + 1}
                                  		</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_evalDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.evaluationDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_evalStartDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.evaluationStartDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header">
											#{msgs.label_evalEndDate}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.evaluationDateString}" />
								</p:column>

								<p:column styleClass='centerText'>
									<f:facet name="header"> 
											#{msgs.label_percent}
										</f:facet>
									<h:outputText value="#{employeeInfoRow.totalEvaluation}" />
								</p:column>

							</p:dataTable>
						</td>
					</tr>
				</table>
			</p:dialog>
		</ui:decorate>
	</h:form>
</h:body>
</html>